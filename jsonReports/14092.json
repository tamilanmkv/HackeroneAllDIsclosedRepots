{"id":14092,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xNDA5Mg==","url":"https://hackerone.com/reports/14092","title":"Remote file Inclusion - RFI in upload","state":"Closed","substate":"informative","readable_substate":"Informative","created_at":"2014-05-30T08:20:37.757Z","submitted_at":"2014-05-30T08:20:37.757Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"coolboss","url":"/coolboss","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c"},"is_me?":false,"cleared":true,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":69,"url":"https://hackerone.com/slack","handle":"slack","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"pentest_feature_enabled?":false,"profile":{"name":"Slack","twitter_handle":"slackhq","website":"https://slack.com","about":"All your team communication in one place, instantly searchable, and available wherever you go."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"has_collaborators":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2014-07-08T10:00:25.403Z","bug_reporter_agreed_on_going_public_at":"2014-05-31T07:57:00.972Z","team_member_agreed_on_going_public_at":null,"comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hello,\r\n\r\nEverysite has a RFI vulnerability.\r\nEverysite i.e *.slack.com is having this vulnerability.\r\n\r\nProof of concept / Steps to Reproduce :\r\n=================================\r\n\r\n1. Sign in to your account on slack eg. I signed in https://pran3hiva.slack.com\r\n2. Now, go to 'Change photo'. i.e https://pran3hiva.slack.com/account/photo\r\n3. Now, select file to upload.\r\n4. Click on upload image.\r\n5. You will be redirected to 'Crop Photo'.\r\n6. Note the url \r\neg.\r\nhttps://pran3hiva.slack.com/account/photo?url=https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fslack-files2%2Favatar-temp%2F2014-05-30%2F2364428212.jpg\r\n\r\nNote the 'url' parameter.\r\n\r\n7. Change it to desired.\r\n8. I changed it to --\u003e https://pran3hiva.slack.com/account/photo?url=https://www.google.co.in/images/srpr/logo11w.png\r\n\r\nNow, image from site will be loaded.\r\n\r\nHence, RFI :D\r\nI have attached 2 screen-shots. POC.\r\nHope, you patch this one. :)\r\n\r\nIf you have any questions you may ask me.\r\n\r\nThank You,\r\nPranav\r\n","weakness":{"id":70,"name":"Code Injection"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":10106,"file_name":"rfi_poc.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/010/106/be76543eaa8e18bf5be3a1ef715c54f99a93ae76/rfi_poc.png?response-content-disposition=attachment%3B%20filename%3D%22rfi_poc.png%22%3B%20filename%2A%3DUTF-8%27%27rfi_poc.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQRIN5EFBE%2F20211011%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20211011T134051Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHUaCXVzLXdlc3QtMiJGMEQCIBhBo9%2BUqNxY%2Bdl%2FBu6j6mVjFeVGWlX5BwuNk30B2pI7AiBQHUUbG%2FDPlDr8hIO32FMCMyDmnYxvDdVBvosTOZwinyqDBAju%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAIaDDAxMzYxOTI3NDg0OSIM8sXPkJOx9vMC77IEKtcDIV9fcoJlSEMqzyGBN8r5cvnWs1RDUOFGGZvMSBD3mEA7oDpMSi%2BV7Zp9cOht07PFLX%2BkJK8eC1UTkCn542dx8VJGQsKAyVMnUijrNudvAtZaz4XmN54QO8IAmSWJAz1M4dpRjKM3mpj%2FRtGlWd3KN52y5erIqbsZL2gDnrA%2FRb3fgap6IHD7xfj6d0gbxTW4t4%2FdNxTbdiUOs%2BzGzj%2FLTVG1Y2pAFSOg%2FtQWuve8SbkTy352fvT3gWDrJKVFK4FnKn4DMECasTJgeWjjC5%2FMBxmNQ4Ck1dV%2Bd2U1r3%2FXszmBUhzCVAnW%2BBtuglfqKxlek0HFP2W%2FAgf7HsdcRXu4XQ9grbRgh1ZNM9yCRee%2FQ8AoIWmoCQS%2BbBfiZfI9t95HA%2Fnu0iExODE3gc%2FeDNILImEbUu8YNyftwi4u%2BBTFJzhLm45mJqK2nq8%2F1P%2BZ%2FjDCVTu7n6SR3CDOMKZAj5KEc2HF25gj0XTKyS4MKzzEI3%2B1%2BX1BRUu%2Ft%2Foofn%2BCL69KENTohq5xEcSjfjHYy%2FruEuKnSzzB2Olo0%2Fch%2Bgu9EjjuR5sCj5hDvticB%2BiLsNWB0Sjpt4T5BO2Gz9yWZ5R7UDjFjBikyO0qI3cmEMuMQ9c4%2Bi%2BthNSEMOrskIsGOqYBSW5YtERPJhE422%2BOJ%2FODVERL3856%2BJxv6Gylf0pw9PAOnyl%2FoQCO3GPLC6BDKKKCT0DANAMHRViXtizwdYWxIVcxRRpAFRuplthRNuoekn7M%2BD9Vyq2Ves6bm56gWv49amyryPOpp3Kpzb30DAEAyzl0ZK%2BqfWyDzq5HLSIy5lGtjLObsOuLdF%2BYMEHir%2BrCGGp%2FmWPemSN9vmdtiNbqa6zyiUuPDw%3D%3D\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=bd047ef9125c59b021cf235c7a9f66fb624647b27220d84a38ebbed9f9d1748a","file_size":232035,"type":"image/png"},{"id":10107,"file_name":"rfi_poc2.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/010/107/ba43e99300f9d6425d16abdf430fe402e0130b9d/rfi_poc2.png?response-content-disposition=attachment%3B%20filename%3D%22rfi_poc2.png%22%3B%20filename%2A%3DUTF-8%27%27rfi_poc2.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQRIN5EFBE%2F20211011%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20211011T134051Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHUaCXVzLXdlc3QtMiJGMEQCIBhBo9%2BUqNxY%2Bdl%2FBu6j6mVjFeVGWlX5BwuNk30B2pI7AiBQHUUbG%2FDPlDr8hIO32FMCMyDmnYxvDdVBvosTOZwinyqDBAju%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F8BEAIaDDAxMzYxOTI3NDg0OSIM8sXPkJOx9vMC77IEKtcDIV9fcoJlSEMqzyGBN8r5cvnWs1RDUOFGGZvMSBD3mEA7oDpMSi%2BV7Zp9cOht07PFLX%2BkJK8eC1UTkCn542dx8VJGQsKAyVMnUijrNudvAtZaz4XmN54QO8IAmSWJAz1M4dpRjKM3mpj%2FRtGlWd3KN52y5erIqbsZL2gDnrA%2FRb3fgap6IHD7xfj6d0gbxTW4t4%2FdNxTbdiUOs%2BzGzj%2FLTVG1Y2pAFSOg%2FtQWuve8SbkTy352fvT3gWDrJKVFK4FnKn4DMECasTJgeWjjC5%2FMBxmNQ4Ck1dV%2Bd2U1r3%2FXszmBUhzCVAnW%2BBtuglfqKxlek0HFP2W%2FAgf7HsdcRXu4XQ9grbRgh1ZNM9yCRee%2FQ8AoIWmoCQS%2BbBfiZfI9t95HA%2Fnu0iExODE3gc%2FeDNILImEbUu8YNyftwi4u%2BBTFJzhLm45mJqK2nq8%2F1P%2BZ%2FjDCVTu7n6SR3CDOMKZAj5KEc2HF25gj0XTKyS4MKzzEI3%2B1%2BX1BRUu%2Ft%2Foofn%2BCL69KENTohq5xEcSjfjHYy%2FruEuKnSzzB2Olo0%2Fch%2Bgu9EjjuR5sCj5hDvticB%2BiLsNWB0Sjpt4T5BO2Gz9yWZ5R7UDjFjBikyO0qI3cmEMuMQ9c4%2Bi%2BthNSEMOrskIsGOqYBSW5YtERPJhE422%2BOJ%2FODVERL3856%2BJxv6Gylf0pw9PAOnyl%2FoQCO3GPLC6BDKKKCT0DANAMHRViXtizwdYWxIVcxRRpAFRuplthRNuoekn7M%2BD9Vyq2Ves6bm56gWv49amyryPOpp3Kpzb30DAEAyzl0ZK%2BqfWyDzq5HLSIy5lGtjLObsOuLdF%2BYMEHir%2BrCGGp%2FmWPemSN9vmdtiNbqa6zyiUuPDw%3D%3D\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=cf5d89be948e6b28f581aa83a97850618dc872d05f812e638c2cb3fbff68facd","file_size":272772,"type":"image/png"}],"allow_singular_disclosure_at":"2014-06-29T16:58:23.141Z","allow_singular_disclosure_after":-229898548.85816637,"singular_disclosure_allowed":true,"vote_count":5,"voters":["sw33tlie","impramodsargar","zahidclp95","0xgordo","ghostin_shell"],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"activities":[{"id":62141,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"This is allowed","automated_response":false,"created_at":"2014-05-30T16:58:23.177Z","updated_at":"2014-05-30T16:58:23.177Z","actor":{"username":"iamcal","cleared":false,"url":"/iamcal","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/138/0e164dd6477c48d57f2f5a1c56756f7ec98229cf_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":62617,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I think this is dangerous for your site. You must make a fix.\nSimilar bug was found on hackerone i.e #713.\n\nThere are security risks so they made a quick fix. You should also consider this one for quick fix.","automated_response":false,"created_at":"2014-05-31T03:58:56.248Z","updated_at":"2014-05-31T03:58:56.248Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":62649,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"In what way do you think this is dangerous?","automated_response":false,"created_at":"2014-05-31T06:20:23.997Z","updated_at":"2014-05-31T06:20:23.997Z","actor":{"username":"iamcal","cleared":false,"url":"/iamcal","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/138/0e164dd6477c48d57f2f5a1c56756f7ec98229cf_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":62653,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"You are allowing to include file from external source.\nI observed it gets saved on amazon and gets loaded from there.\n\nSo, it is dangerous and hackerone too fixed this one.\nSame happens for hackerone.\nFile is saved on amazon.\n\nI think you must fix this.","automated_response":false,"created_at":"2014-05-31T06:32:43.657Z","updated_at":"2014-05-31T06:32:43.657Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":62655,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Also two files are getting created on amazon i.e  2 photos are saved.","automated_response":false,"created_at":"2014-05-31T06:37:17.026Z","updated_at":"2014-05-31T06:37:17.026Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":62667,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"If you are not interested in fixing it.\nI may ask you for public disclosure. ","automated_response":false,"created_at":"2014-05-31T07:57:00.989Z","updated_at":"2014-05-31T07:57:00.989Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":63002,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Our product allows sharing of files. This is in no way a bug.","automated_response":false,"created_at":"2014-05-31T22:59:52.536Z","updated_at":"2014-05-31T22:59:52.536Z","actor":{"username":"iamcal","cleared":false,"url":"/iamcal","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/138/0e164dd6477c48d57f2f5a1c56756f7ec98229cf_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":63052,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Yes.\n\nI studied slack.com.\n\nBut what is RFI. It is ability to include files from external sources.\n\nYour site is not exactly allowing but in the second step it is allowing to add a image from external source. So, there exists a RFI vulnerability.\nSo, I am asking to fix it.\n\nYou have such a awesome secure web app. But you are keeping a vulnerability unfixed. It may lower your site's standard.\nIf you know a bug exist, you must fix it. It may prove dangerous if every hacker get to know about it. And many hackers are expert in Exploit writing.\nIf a exploit is fired from that loop hole, it may prove hazardous situation for you.\n\nHonestly speaking, I wasn't able to do such a exploit. Because I am a learner.\nBut, any other professional hackers fire from that loop hole then it may prove a difficult situation for you and your customers.\n\nSo, I am asking to fix it. In this early stages. So, you get a best and secure web app. :)\nThis is only my intention. :)\n\nHope, you understand the risks now.\n\nThank you,\nPranav","automated_response":false,"created_at":"2014-06-01T05:28:32.307Z","updated_at":"2014-06-01T05:28:32.307Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":63888,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"No, you misunderstand what RFI is. RFI is specifically about being able to upload code and have it executed on a remote server. You cannot do that.\n\nIf you believe you have found a mechanism by which you can execute your code on Slack servers, please provide details.","automated_response":false,"created_at":"2014-06-02T21:06:28.237Z","updated_at":"2014-06-02T21:06:28.237Z","actor":{"username":"iamcal","cleared":false,"url":"/iamcal","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/138/0e164dd6477c48d57f2f5a1c56756f7ec98229cf_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":64613,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"No. I didn't find anything exploitable.\nI am not a exploit writer.\n\nI just said I can include images.\nBut also took you through risks.\nA new exploit can be written.\n\nThat's it . \nYou may close the bug and allow public disclosure. As it seems you not gonna fix it.","automated_response":false,"created_at":"2014-06-03T05:51:55.272Z","updated_at":"2014-06-03T05:51:55.272Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":69749,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Sir,\n\nAllow public disclosure. I want to share this bug on my blog. As an example.","automated_response":false,"created_at":"2014-06-09T05:32:57.651Z","updated_at":"2014-06-09T05:32:57.651Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":85903,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","automated_response":false,"created_at":"2014-07-08T10:00:25.413Z","updated_at":"2014-07-08T10:00:25.413Z","actor":{"url":"/slack","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/069/683fee312381bc46cadc7ea1950abc87944d12c3_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"profile":{"name":"Slack"}},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":86024,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@iamcal\n\nThanks sir ... for this ... :)","automated_response":false,"created_at":"2014-07-08T15:05:48.698Z","updated_at":"2014-07-08T15:05:48.698Z","actor":{"username":"coolboss","cleared":true,"url":"/coolboss","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/GcQXHyfvnbR42mccVCF6Qk3s/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"slack","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}