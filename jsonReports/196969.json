{"id":196969,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xOTY5Njk=","url":"https://hackerone.com/reports/196969","title":"bug reporting template encourages users to paste config file with passwords","state":"Closed","substate":"resolved","severity_rating":"low","readable_substate":"Resolved","created_at":"2017-01-09T19:38:40.377Z","submitted_at":"2017-01-09T19:38:40.377Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"hanno","url":"/hanno","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":3059,"url":"https://hackerone.com/owncloud","handle":"owncloud","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/003/059/d31dc64427bbbf2e428a0b0b97bce59b98d2ba0d_original.png/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c","medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/059/d31dc64427bbbf2e428a0b0b97bce59b98d2ba0d_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"pentest_feature_enabled?":false,"profile":{"name":"ownCloud","twitter_handle":"ownCloud","website":"https://www.owncloud.com","about":"ownCloud GmbH is the company behind the ownCloud Project - the most downloaded open source project for data and file sync, share and view."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"has_collaborators":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2017-04-21T09:17:51.240Z","bug_reporter_agreed_on_going_public_at":"2017-04-21T09:17:51.187Z","team_member_agreed_on_going_public_at":"2017-04-21T08:12:25.947Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"The dangerous bug reporting template\n=============================\n\nThe github bug reporting template for owncloud's server and some apps contains this:\n\n```\nThe content of config/config.php:\n\nIf you have access to your command line run e.g.:\nsudo -u www-data php occ config:list system\nfrom within your instance's installation folder\n\nor \n\nInsert your config.php content here\n(Without the database password, passwordsalt and secret)\n```\n\nThis is obviously very problematic. From the wording and instructions it is very likely that users will do the wrong thing: Paste the config.php without removing all passwords, for various reasons:\n\nIt's likely to assume that many users won't read the detailed instructions and will just do the first thing they're told: Insert the content of config/config.php.\nThe instruction with sudo and www-data is specific to certain server configurations and may not work everywhere, thus it will fail for some users who will try the next option, namely inserting config.php directly.\nThe instruction \"Without the database password, passwordsalt and secret\" is incomplete. There can be more sensitive fields in the config file, e.g. \"mail_smtppassword\".\nNot surprisingly users misread these instructions and paste sensitive passwords. See e.g.:\nhttps://github.com/owncloud/core/issues/9066\nhttps://github.com/owncloud/core/issues/9458\nhttps://github.com/owncloud/core/issues/9764\nhttps://github.com/owncloud/core/issues/9734\nhttps://github.com/owncloud/core/issues/20910\nhttps://github.com/owncloud/core/issues/14240\n(list is incomplete!)\n\n\nProposed remediation\n=================\n\nI think it's necessary that you search all existing bug reports that have been created with this template for sensitive passwords and edit them to remove the password. It is probably also appropriate to inform the affected users.\n\nI also believe encouraging users to paste a config file with passwords is inherently dangerous and no amount of warnings will prevent all users from making mistakes. In general I think it should always be a guiding principle of software design to make it hard for users to make security mistakes.\n\nThere are various ways the situation could be improved, this is what I could think of:\n\nProvide a way in the webinterface to let users view a version of the config file where all sensitive values are removed (like the command line instruction, but more accessible).\nChange the instruction and avoid all references to pasting the raw config file content. If there's a need to get the config file in rare circumstances a developer could ask a bug reporter for it, ideally via private channels and only post a manually vetted version to the bug report.\nLeakage of instanceid\n\nOne additional observation: The \"occ config:list\" command removes dbpassword, secret and mail_smtppassword, but it leaves instanceid intact. I'm not familiar enough to judge how sensitive this value is, but it seems to be an unique identifier for each owncloud installation. It would probably be wise to remove that, too.\n\nAffects owncloud and nextcloud\n========================\n\nThis issue affects the development of both owncloud and nextcloud in the same way. Thus I will report it to both projects.","weakness":{"id":18,"name":"Information Disclosure"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2017-05-21T08:12:25.986Z","allow_singular_disclosure_after":-138606431.56794995,"singular_disclosure_allowed":true,"vote_count":3,"voters":["geeknik","eveeez","spetr0x"],"severity":{"rating":"low","author_type":"Team"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"activities":[{"id":1409367,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks a lot for reporting this potential issue back to us. We take security very seriously and would appreciate if you would not share any information about this bug until we have determined a potential patch.\r\n \r\nOur security team will take a look at this issue as soon as possible. We will reply to your report within 72 hours, usually much faster.","automated_response":true,"created_at":"2017-01-09T19:38:40.523Z","updated_at":"2017-01-09T19:38:40.523Z","actor":{"url":"/owncloud","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/059/d31dc64427bbbf2e428a0b0b97bce59b98d2ba0d_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"profile":{"name":"ownCloud"}},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1453075,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Can I get an update here? How do you plan to act on this?","automated_response":false,"created_at":"2017-01-31T00:47:13.079Z","updated_at":"2017-01-31T00:47:13.079Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1463376,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"instanceid is not considered sensitive data.\nI've replaced possibly sensitive strings with XXXXXXXX in the provided incomplete list.\n","automated_response":false,"created_at":"2017-02-04T23:55:48.731Z","updated_at":"2017-02-04T23:55:48.731Z","actor":{"username":"jnweiger","cleared":false,"url":"/jnweiger","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1468089,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"For clarification I should say that I didn't attempt to make a conclusive list of all affected issue reports, I just posted a few examples to show that this is a real problem. So scrubbing the ones I mentioned is not sufficient.\n\nYou need to go through all bug reports. In my tests it didn't seem that github has any rate limit on downloading issues, so you can loop through them. I also haven't checked how many repositories have used this bug reporting template. Obviously all of them should be checked.","automated_response":false,"created_at":"2017-02-07T10:46:49.900Z","updated_at":"2017-02-07T10:46:49.900Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1477238,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The fix is implemented via 'occ config:list' \nThis command prints the config and substitutes \"* * * REMOVED SENSITIVE VALUE* * *\" where needed.\n\nThis is already mentioned as the recommended procedure in the report template\nhttps://github.com/owncloud/core/blob/master/.github/issue_template.md","automated_response":false,"created_at":"2017-02-10T15:00:41.690Z","updated_at":"2017-02-10T15:00:41.690Z","actor":{"username":"jnweiger","cleared":false,"url":"/jnweiger","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1481788,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I plan to disclose this issue eventually. Given that this needs some coordination, I'm hereby announcing that I plan to disclose this for both own/nextcloud three months after the initial report (which makes it April 9th).\n\nI'm not sure how to interpret your last comment, as it seems to indicate you see this as already \"fixed\". It is obvious by existing bug reports that the current way lets a notable fraction of your users post sensitive data.\n\nI think the core problem is that you don't provide a user friendly way of exporting that data safely. Right now it's command line or paste config. I think the right solution would be a gui-integrated way of exporting the important information and to avoid any mentioning of config.php pasting in the bug reporting template.","automated_response":false,"created_at":"2017-02-13T10:49:07.494Z","updated_at":"2017-02-13T10:49:07.494Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1559340,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The disclosure date I set is nearing and I still don't see any action on this. Please note that search engine caches may reveal passwords even after they've been removed, so deleting the sensitive data shouldn't be a last day before disclosure action.","automated_response":false,"created_at":"2017-03-23T13:07:14.975Z","updated_at":"2017-03-23T13:07:14.975Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1580077,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"https://github.com/owncloud/core/pull/27557 - a bit more attention to the note - maybe this helps.","automated_response":false,"created_at":"2017-04-03T10:50:36.851Z","updated_at":"2017-04-03T10:50:36.851Z","actor":{"username":"deepdiver","cleared":false,"url":"/deepdiver","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1581362,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Let me suggeest even stronger wording there:\n\nhttps://github.com/owncloud/core/compare/master...jnweiger-patch-issue-template-h1?quick_pull=1","automated_response":false,"created_at":"2017-04-03T18:56:24.774Z","updated_at":"2017-04-03T18:56:24.774Z","actor":{"username":"jnweiger","cleared":false,"url":"/jnweiger","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1581595,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"To be clear: I think he most immediate issue is that there are still many passwords from users that likely allow compromising their databases or mail accounts openly visible in the bugtracker. I would really like to avoid disclosing this issue without that being redacted.\n\nThe people at nextcloud implemented a script for that, maybe you can to adopt it for your needs:\nhttps://github.com/nextcloud/github_helper/tree/efbe77cbde107b59b6bfcb95d081cc083af44b72/sensitive-issue-searcher","automated_response":false,"created_at":"2017-04-03T20:18:16.042Z","updated_at":"2017-04-03T20:18:16.042Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1584934,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thank you for the script, but we have much more Issues than Nextcloud. So we have trouble with the github limits. Can you give us another week before disclosure?","automated_response":false,"created_at":"2017-04-05T14:27:21.394Z","updated_at":"2017-04-05T14:27:21.394Z","actor":{"username":"pprochaska","cleared":false,"url":"/pprochaska","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1587372,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Another week is okay. So I'll tentatively say I'll disclose on 17th.","automated_response":false,"created_at":"2017-04-06T16:37:32.245Z","updated_at":"2017-04-06T16:37:32.245Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1588780,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thank you","automated_response":false,"created_at":"2017-04-07T08:01:44.506Z","updated_at":"2017-04-07T08:01:44.506Z","actor":{"username":"pprochaska","cleared":false,"url":"/pprochaska","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1620294,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Disclosed now:\nhttps://blog.hboeck.de/archives/885-Passwords-in-the-Bug-Reports-OwncloudNextcloud.html\nhttps://www.golem.de/news/owncloud-nextcloud-passwoerter-im-bugtracker-1704-127346.html\n\nCan we open up this report now, too?","automated_response":false,"created_at":"2017-04-19T08:11:13.045Z","updated_at":"2017-04-19T08:11:13.045Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1625690,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","automated_response":false,"created_at":"2017-04-21T08:10:12.226Z","updated_at":"2017-04-21T08:10:12.226Z","additional_data":{"old_severity":"Medium","new_severity":"Low","old_severity_id":18371,"new_severity_id":37907},"actor":{"username":"pprochaska","cleared":false,"url":"/pprochaska","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1625692,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"","automated_response":false,"created_at":"2017-04-21T08:10:22.961Z","updated_at":"2017-04-21T08:10:22.961Z","actor":{"username":"pprochaska","cleared":false,"url":"/pprochaska","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"hanno","url":"/hanno"},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1625698,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","automated_response":false,"created_at":"2017-04-21T08:12:25.964Z","updated_at":"2017-04-21T08:12:25.964Z","first_to_agree":true,"actor":{"username":"pprochaska","cleared":false,"url":"/pprochaska","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1625783,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","automated_response":false,"created_at":"2017-04-21T09:17:51.207Z","updated_at":"2017-04-21T09:17:51.207Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1625784,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","automated_response":false,"created_at":"2017-04-21T09:17:51.257Z","updated_at":"2017-04-21T09:17:51.257Z","actor":{"username":"hanno","cleared":false,"url":"/hanno","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/020/918/74da560ef66bf8cc239e219843444b441a7dfac6_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1636874,"is_internal":false,"editable":false,"type":"Activities::NotEligibleForBounty","message":"","automated_response":false,"created_at":"2017-04-26T08:02:40.970Z","updated_at":"2017-04-26T08:02:40.970Z","actor":{"url":"/owncloud","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/003/059/d31dc64427bbbf2e428a0b0b97bce59b98d2ba0d_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"profile":{"name":"ownCloud"}},"genius_execution_id":null,"team_handle":"owncloud","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}