{"id":81701,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC84MTcwMQ==","url":"https://hackerone.com/reports/81701","title":"Possible SQL injection on \"Jump to twitter\"","state":"Closed","substate":"resolved","severity_rating":"low","readable_substate":"Resolved","created_at":"2015-08-11T10:48:01.553Z","submitted_at":"2015-08-11T10:48:01.553Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"deleted","url":"/deleted","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":1868,"url":"https://hackerone.com/gratipay","handle":"gratipay","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/001/868/a75c6649c5b4671b3cf44160af884a7da9fd0b67_original.jpg/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c","medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/868/a75c6649c5b4671b3cf44160af884a7da9fd0b67_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"permissions":[],"submission_state":"disabled","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"pentest_feature_enabled?":false,"profile":{"name":"Gratipay","twitter_handle":"Gratipay","website":"https://gratipay.com/","about":"Gratitude? Gratipay! The easiest way for your company to pay for open source."}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"has_collaborators":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2016-03-21T02:41:05.176Z","bug_reporter_agreed_on_going_public_at":null,"team_member_agreed_on_going_public_at":"2016-03-21T02:39:43.842Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"The https://gratipay.com/on/twitter/'  (single-quote at the end) request returns 500 Error, but https://gratipay.com/on/twitter/\" returns 404 so i believe it may be an injection. To find the url, go to /search and jump to ' twitter.","bounty_amount":"1.0","formatted_bounty":"$1","weakness":{"id":67,"name":"SQL Injection"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2016-04-20T02:39:44.018Z","allow_singular_disclosure_after":-172846311.07722655,"singular_disclosure_allowed":true,"vote_count":1,"voters":["dyabla"],"severity":{"rating":"low","author_type":"Team"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"activities":[{"id":545675,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thanks for the report, @nikitakun. I doubt it's an injection, because we protect against SQL injection at a low level in our call stack for database access. Both URLs should be a 404, though, so we should at least fix the 500 for the first URL. Marking as triaged for now ...","automated_response":false,"created_at":"2015-08-12T12:44:24.092Z","updated_at":"2015-08-12T12:44:24.092Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":545679,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"P.S. I invite you to review [our code](https://github.com/gratipay/gratipay.com) and determine whether an injection is in fact happening.","automated_response":false,"created_at":"2015-08-12T12:46:19.659Z","updated_at":"2015-08-12T12:46:19.659Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":546985,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Oh, nice, didn't know it's open-source :)\nI've looked at it, haven't found the reason yet. I'll try a bit later.\n\nBy the way, the error only appears when searching profiles on twitter, not on github/bitbucket/etc. Hope that helps.","automated_response":false,"created_at":"2015-08-13T11:41:48.102Z","updated_at":"2015-08-13T11:41:48.102Z","actor":{"username":"deleted","cleared":false,"url":"/deleted","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":797208,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I've confirmed this result locally.","automated_response":false,"created_at":"2016-02-14T02:02:37.429Z","updated_at":"2016-02-14T02:02:37.429Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797209,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The 404 is cool. That's because there's no Twitter user with username \".","automated_response":false,"created_at":"2016-02-14T02:03:27.253Z","updated_at":"2016-02-14T02:03:27.253Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797212,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Here's where the 500 is coming from:\n\nhttps://github.com/idan/oauthlib/blob/0.7.2/oauthlib/common.py#L129\n\n```\nTraceback (most recent call last):\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/algorithm.py\", line 288, in run\n    new_state = function(**deps.as_kwargs)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/aspen/algorithms/website.py\", line 115, in get_response_for_resource\n    return {'response': resource.respond(state)}\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/aspen/http/resource.py\", line 59, in respond\n    content_type, body = super(Dynamic, self).respond(accept, state)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/aspen/simplates/__init__.py\", line 169, in respond\n    exec(self.pages[1], context)\n  File \"/Users/whit537/personal/gratipay/security/www/on/%platform/%user_name/index.html.spt\", line 14, in \u003cmodule\u003e\n    platform, account = get_account_elsewhere(website, state)\n  File \"/Users/whit537/personal/gratipay/security/gratipay/models/account_elsewhere.py\", line 266, in get_account_elsewhere\n    import pdb; pdb.set_trace()\n  File \"/Users/whit537/personal/gratipay/security/gratipay/elsewhere/__init__.py\", line 242, in get_user_info\n    info = self.api_parser(self.api_get(path, sess=sess))\n  File \"/Users/whit537/personal/gratipay/security/gratipay/elsewhere/__init__.py\", line 118, in api_get\n    response = sess.get(self.api_url+path, **kw)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/requests/sessions.py\", line 476, in get\n    return self.request('GET', url, **kwargs)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/requests/sessions.py\", line 450, in request\n    prep = self.prepare_request(req)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/requests/sessions.py\", line 381, in prepare_request\n    hooks=merge_hooks(request.hooks, self.hooks),\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/requests/models.py\", line 308, in prepare\n    self.prepare_auth(auth, url)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/requests/models.py\", line 495, in prepare_auth\n    r = auth(self)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/requests_oauthlib/oauth1_auth.py\", line 87, in __call__\n    unicode(r.url), unicode(r.method), None, r.headers)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/oauthlib/oauth1/rfc5849/__init__.py\", line 250, in sign\n    encoding=self.encoding)\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/oauthlib/common.py\", line 395, in __init__\n    self._params.update(dict(urldecode(self.uri_query)))\n  File \"/Users/whit537/personal/gratipay/security/env/lib/python2.7/site-packages/oauthlib/common.py\", line 129, in urldecode\n    raise ValueError(error % (set(query) - urlencoded, query))\nValueError: Error trying to decode a non urlencoded string. Found invalid characters: set([u\"'\"]) in the string: 'screen_name=''. Please ensure the request/response body is x-www-form-urlencoded.\nAbout\n```","automated_response":false,"created_at":"2016-02-14T02:08:47.682Z","updated_at":"2016-02-14T02:08:47.682Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797214,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"We're [making](https://github.com/gratipay/gratipay.com/blob/1940/gratipay/elsewhere/__init__.py#L118) an API call with this [path](https://github.com/gratipay/gratipay.com/blob/1940/gratipay/elsewhere/twitter.py#L26) ([formatted](https://github.com/gratipay/gratipay.com/blob/1940/gratipay/elsewhere/__init__.py#L241)):\n\n```python\n'/users/show.json?screen_name={user_name}'.format(user_name=\"'\")\n```\n\nThat's what's triggering the 500 down in oauthlib.","automated_response":false,"created_at":"2016-02-14T02:15:20.041Z","updated_at":"2016-02-14T02:15:20.041Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797217,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I suppose the fix is to percent-encode the values we use to format the paths we hit.","automated_response":false,"created_at":"2016-02-14T02:17:02.624Z","updated_at":"2016-02-14T02:19:05.215Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797218,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"So this isn't a SQL injection, but it *could* be an OAuth injection.","automated_response":false,"created_at":"2016-02-14T02:20:23.769Z","updated_at":"2016-02-14T02:20:23.769Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797231,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"PR at https://github.com/gratipay/security/pull/2.","automated_response":false,"created_at":"2016-02-14T02:58:29.076Z","updated_at":"2016-02-14T02:58:29.076Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":797241,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"PR is ready for review.","automated_response":false,"created_at":"2016-02-14T03:08:35.973Z","updated_at":"2016-02-14T03:08:35.973Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":801472,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Ping @rohitpaulk. You good with https://github.com/gratipay/security/pull/2?","automated_response":false,"created_at":"2016-02-17T14:56:12.051Z","updated_at":"2016-02-17T14:56:12.051Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":802419,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"```diff\ndiff --git a/gratipay/elsewhere/__init__.py b/gratipay/elsewhere/__init__.py\nindex b510e1c..349ece5 100644\n--- a/gratipay/elsewhere/__init__.py\n+++ b/gratipay/elsewhere/__init__.py\n@@ -238,7 +238,7 @@ def get_user_info(self, key, value, sess=None):\n         path = getattr(self, path, None)\n         if not path:\n             raise Response(400)\n-        path = path.format(**{key: value})\n+        path = path.format(**{key: quote(value)})\n         info = self.api_parser(self.api_get(path, sess=sess))\n         return self.extract_user_info(info)\n \ndiff --git a/tests/py/test_elsewhere.py b/tests/py/test_elsewhere.py\nindex a3226fb..ecc48eb 100644\n--- a/tests/py/test_elsewhere.py\n+++ b/tests/py/test_elsewhere.py\n@@ -31,6 +31,11 @@ def test_extract_user_info(self):\n             assert r.user_id is not None\n             assert len(r.user_id) \u003e 0\n \n+    @mock.patch('gratipay.elsewhere.Platform.api_get')\n+    def test_get_user_info_quotes_values(self, api_get):\n+        self.platforms.twitter.get_user_info('user_name', \"'\")\n+        api_get.assert_called_with(\"/users/show.json?screen_name=%27\", sess=None)\n+\n     def test_opt_in_can_change_username(self):\n         account = self.make_elsewhere('twitter', 1, 'alice')\n         expected = 'bob'\n```","automated_response":false,"created_at":"2016-02-18T03:54:43.092Z","updated_at":"2016-02-18T03:54:43.092Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":802456,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Weird. We've discovered a HackerOne markdown rendering bug:\n\n```\n@ foo\n```\n\nPut the `@` and the `foo` together and instead of `@foo` we get `[@foo](/foo)`:\n\n```\n@foo\n```\n\nIs this exploitable? :-)","automated_response":false,"created_at":"2016-02-18T04:51:31.967Z","updated_at":"2016-02-18T04:51:31.967Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":804906,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","automated_response":false,"created_at":"2016-02-19T19:13:38.101Z","updated_at":"2016-02-19T19:13:38.101Z","additional_data":{"duplicate_report_id":117427},"actor":{"username":"de4dly_panda","cleared":false,"url":"/de4dly_panda","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/056/914/ca3785852f495d8b1c95c091c977e6a8690303ab_original.jpeg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":814012,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Breaks `bitbucket` whch was working well before the pr.\n\nhitting `/on/bitbucket/'` \n\n```\nTraceback (most recent call last):\n  File \"security/env/lib/python2.7/site-packages/algorithm.py\", line 288, in run\n    new_state = function(**deps.as_kwargs)\n  File \"security/env/lib/python2.7/site-packages/aspen/algorithms/website.py\", line 115, in get_response_for_resource\n    return {'response': resource.respond(state)}\n  File \"security/env/lib/python2.7/site-packages/aspen/http/resource.py\", line 59, in respond\n    content_type, body = super(Dynamic, self).respond(accept, state)\n  File \"security/env/lib/python2.7/site-packages/aspen/simplates/__init__.py\", line 169, in respond\n    exec(self.pages[1], context)\n  File \"security/www/on/%platform/%user_name/index.html.spt\", line 13, in \u003cmodule\u003e\n    platform, account = get_account_elsewhere(website, state)\n  File \"security/gratipay/models/account_elsewhere.py\", line 266, in get_account_elsewhere\n    user_info = platform.get_user_info(key, uid)\n  File \"security/gratipay/elsewhere/__init__.py\", line 242, in get_user_info\n    info = self.api_parser(self.api_get(path, sess=sess))\n  File \"security/gratipay/elsewhere/bitbucket.py\", line 46, in api_get\n    return PlatformOAuth1.api_get(self, path, sess, **kw)\n  File \"security/gratipay/elsewhere/__init__.py\", line 130, in api_get\n    raise Response(500)\nResponse: 500 Internal Server Error\n500 Internal Server Error            /on/bitbucket/'/         ...ts/security/error.spt\n```","automated_response":false,"created_at":"2016-02-26T12:58:24.243Z","updated_at":"2016-02-26T12:58:24.243Z","actor":{"username":"aandis","cleared":false,"url":"/aandis","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":836832,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","automated_response":false,"created_at":"2016-03-12T20:56:04.029Z","updated_at":"2016-03-12T20:56:04.029Z","additional_data":{"duplicate_report_id":122639},"actor":{"username":"bed2d8df50a8b9313f0e805","cleared":false,"url":"/bed2d8df50a8b9313f0e805","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":836834,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","automated_response":false,"created_at":"2016-03-12T20:56:51.881Z","updated_at":"2016-03-12T20:56:51.881Z","additional_data":{"duplicate_report_id":122102},"actor":{"username":"nomore","cleared":false,"url":"/nomore","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":841686,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Looking into this ...","automated_response":false,"created_at":"2016-03-15T19:14:08.970Z","updated_at":"2016-03-15T19:14:08.970Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":841882,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@aandis I see what you mean.\n\n| result | current | result | new |\n|--------|---------|--------|-----|\n| 404    | http://localhost:8537/on/facebook/'/ | 404    | https://gratipay.com/on/facebook/'/ |\n| 400    | http://localhost:8537/on/google/'/ | 400    | https://gratipay.com/on/google/'/ |\n| 500    | http://localhost:8537/on/bitbucket/'/ | 404    | https://gratipay.com/on/bitbucket/'/ |\n| 400    | http://localhost:8537/on/bountysource/'/ | 400    | https://gratipay.com/on/bountysource/'/ |\n| 404    | http://localhost:8537/on/github/'/ | 404    | https://gratipay.com/on/github/'/ |\n| 400    | http://localhost:8537/on/openstreetmap/'/ | 400    | https://gratipay.com/on/openstreetmap/'/ |\n| 404    | http://localhost:8537/on/twitter/'/ | 500    | https://gratipay.com/on/twitter/'/ |\n| 400    | http://localhost:8537/on/venmo/'/ | 400    | https://gratipay.com/on/venmo/'/ |\n","automated_response":false,"created_at":"2016-03-15T20:40:44.323Z","updated_at":"2016-03-15T20:55:12.375Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":841897,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"This certainly isn't a SQL injection, and in general does not appear to be an exploitable vulnerability. I think we should reticket in public GitHub and close here.","automated_response":false,"created_at":"2016-03-15T20:48:59.641Z","updated_at":"2016-03-15T20:48:59.641Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":841992,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"| result | URL |\n|-------|-----------|\n| 404 | https://gratipay.com/on/facebook/fooooooooooooooo/ |\n| 400 | https://gratipay.com/on/google/fooooooooooooooo/ |\n| 404 | https://gratipay.com/on/bitbucket/fooooooooooooooo/ |\n| 400 | https://gratipay.com/on/bountysource/fooooooooooooooo/ |\n| 404 | https://gratipay.com/on/github/fooooooooooooooo/ |\n| 400 | https://gratipay.com/on/openstreetmap/fooooooooooooooo/ |\n| 404 | https://gratipay.com/on/twitter/fooooooooooooooo/ |\n| 400 | https://gratipay.com/on/venmo/fooooooooooooooo/ |\n","automated_response":false,"created_at":"2016-03-15T21:27:16.646Z","updated_at":"2016-03-15T21:27:16.646Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":842002,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"On second thought, not quoting values before sending them over oauth does seem to be a bad idea. I've added a commit to [PR-2](https://github.com/gratipay/security/pull/2) to raise 404 instead of 500 for the Bitbucket case we're seeing. How's that, @aandis? ","automated_response":false,"created_at":"2016-03-15T21:33:19.329Z","updated_at":"2016-03-15T21:33:19.329Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":842017,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"(P.S. The \"current\" and \"new\" headings at https://hackerone.com/reports/81701#activity-841882 are swapped, but I ran out the clock on editing the comment.)","automated_response":false,"created_at":"2016-03-15T21:39:02.308Z","updated_at":"2016-03-15T21:39:02.308Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859365,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"\u003e\u003e\u003e @rohitpaulk: I and @aandis tried this on a heroku fork - http://paul-gratipay-copy.herokuapp.com/on/twitter/'/ , http://paul-gratipay-copy.herokuapp.com/on/bitbucket/'/\n\n\u003e\u003e @rohitpaulk: Gotta regenerate the VCR cassettes...\n\n\u003e @aandis: Should be ready for merge now. :)","automated_response":false,"created_at":"2016-03-20T08:47:38.513Z","updated_at":"2016-03-20T08:47:38.513Z","actor":{"username":"aandis","cleared":false,"url":"/aandis","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859880,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Squashed and deployed as 1944. Fix confirmed:\n\nhttps://gratipay.com/on/twitter/'/\nhttps://gratipay.com/on/bitbucket/'/\n\nPushing to the public `gratipay.com` repo ...","automated_response":false,"created_at":"2016-03-21T02:35:25.789Z","updated_at":"2016-03-21T02:35:25.789Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859881,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Fixed in https://github.com/gratipay/gratipay.com/commit/2e513a2e460c7ee38cb1d645cc401c98fead5ecc. Closing and disclosing ...","automated_response":false,"created_at":"2016-03-21T02:37:40.875Z","updated_at":"2016-03-21T02:37:40.875Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859882,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"","automated_response":false,"created_at":"2016-03-21T02:38:30.233Z","updated_at":"2016-03-21T02:38:30.233Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"deleted","url":"/deleted"},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859883,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"The account that reported this is deleted, so I'm not awarding a bounty.","automated_response":false,"created_at":"2016-03-21T02:39:32.656Z","updated_at":"2016-03-21T02:39:32.656Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859884,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","automated_response":false,"created_at":"2016-03-21T02:39:43.867Z","updated_at":"2016-03-21T02:39:43.867Z","first_to_agree":true,"actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859885,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"!m @aandis @rohitpaulk @deleted","automated_response":false,"created_at":"2016-03-21T02:40:45.267Z","updated_at":"2016-03-21T02:40:45.267Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859886,"is_internal":false,"editable":false,"type":"Activities::ManuallyDisclosed","message":"","automated_response":false,"created_at":"2016-03-21T02:40:59.506Z","updated_at":"2016-03-21T02:40:59.506Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":859899,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@deleted If you're paying attention, please let us know and we'll award the bounty.","automated_response":false,"created_at":"2016-03-21T03:04:55.327Z","updated_at":"2016-03-21T03:04:55.327Z","actor":{"username":"whit537","cleared":false,"url":"/whit537","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/034/094/b38b9225fd8592d05d5e6939116e8f30d7c98af5_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":892520,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"","automated_response":false,"created_at":"2016-04-06T19:45:03.101Z","updated_at":"2016-04-06T19:45:03.101Z","actor":{"url":"/gratipay","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/001/868/a75c6649c5b4671b3cf44160af884a7da9fd0b67_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"profile":{"name":"Gratipay"}},"bounty_amount":"1.0","bounty_currency":"usd","genius_execution_id":null,"team_handle":"gratipay","collaborator":{"username":"deleted","url":"/deleted"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1340055,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","automated_response":false,"created_at":"2016-12-04T18:31:00.256Z","updated_at":"2016-12-04T18:31:00.256Z","additional_data":{"old_severity":null,"new_severity":"Low","old_severity_id":null,"new_severity_id":11521},"actor":{"username":"dmk246","cleared":false,"url":"/dmk246","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"gratipay","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}