{"id":296305,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yOTYzMDU=","url":"https://hackerone.com/reports/296305","title":"[featurebook] Specification Server Directory Traversal via Crafted Browser Request","state":"Closed","substate":"resolved","severity_rating":"medium","readable_substate":"Resolved","created_at":"2017-12-08T17:26:43.462Z","submitted_at":"2017-12-08T17:26:43.462Z","is_member_of_team?":false,"reporter":{"disabled":true,"username":"ysx","url":"/ysx","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":23949,"url":"https://hackerone.com/nodejs-ecosystem","handle":"nodejs-ecosystem","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/023/949/3ea3b2ae039a8f955a4a8fe65d99fe85dc817398_original./3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/023/949/3ea3b2ae039a8f955a4a8fe65d99fe85dc817398_original./eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"paused","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Node.js third-party modules","twitter_handle":"","website":"https://nodejs.org/en/security/","about":"This program is used to handle vulnerabilities in the Node.js ecosystem."}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2018-01-10T20:43:30.095Z","bug_reporter_agreed_on_going_public_at":null,"team_member_agreed_on_going_public_at":"2018-01-09T08:33:41.972Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hi,\n\nA crafted request can be leveraged to traverse the directory structure of a host using the `featurebook` server package, and request arbitrary files outside of the specified web root.\n\n## Module specification\n* **Name**: [featurebook](https://www.npmjs.com/package/featurebook)\n* **Version**: 0.0.32 (latest release build)\n\n## Verified conditions\n* **Test server:** Ubuntu 16.04 LTS\n\n## Proof of concept\n\nPlease globally install the `featurebook` package and `cd` to a chosen directory (in this case, `/root`) on your test server. Run `featurebook serve --port 8081` to start serving from this location.\n\nSubstituting the `\u003cserver-IP\u003e` value as appropriate, please browse to the following URL in Chrome. This will request the target `/etc/passwd` file and echo it line-by-line into an error message:\n\n```\nhttp://\u003cserver-IP\u003e:8081/#/viewer/..%2f..%2fetc/passwd\n```\n\n{F245294}\n\nThanks,\n\nYasin\n\n## Impact\n\nAn adversary can leverage this vulnerability to request arbitrary files from the target host, which may include application source code or system configuration data.","vulnerability_information_html":"\u003cp\u003eHi,\u003c/p\u003e\n\n\u003cp\u003eA crafted request can be leveraged to traverse the directory structure of a host using the \u003ccode\u003efeaturebook\u003c/code\u003e server package, and request arbitrary files outside of the specified web root.\u003c/p\u003e\n\n\u003ch2 id=\"module-specification\"\u003eModule specification\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eName\u003c/strong\u003e: \u003ca href=\"/redirect?url=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Ffeaturebook\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003efeaturebook\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eVersion\u003c/strong\u003e: 0.0.32 (latest release build)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"verified-conditions\"\u003eVerified conditions\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003eTest server:\u003c/strong\u003e Ubuntu 16.04 LTS\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"proof-of-concept\"\u003eProof of concept\u003c/h2\u003e\n\n\u003cp\u003ePlease globally install the \u003ccode\u003efeaturebook\u003c/code\u003e package and \u003ccode\u003ecd\u003c/code\u003e to a chosen directory (in this case, \u003ccode\u003e/root\u003c/code\u003e) on your test server. Run \u003ccode\u003efeaturebook serve --port 8081\u003c/code\u003e to start serving from this location.\u003c/p\u003e\n\n\u003cp\u003eSubstituting the \u003ccode\u003e\u0026lt;server-IP\u0026gt;\u003c/code\u003e value as appropriate, please browse to the following URL in Chrome. This will request the target \u003ccode\u003e/etc/passwd\u003c/code\u003e file and echo it line-by-line into an error message:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003ehttp://\u0026lt;server-IP\u0026gt;:8081/#/viewer/..%2f..%2fetc/passwd\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e\u003ca class=\"markdown-attachment-link markdown-attachment-inline-reference\" data-attachment-filename=\"featurebook_dirtraversal.png\" data-attachment-link=\"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/245/294/d95745beccb1f3543cd56fe1e85b1c1c709bc26b/featurebook_dirtraversal.png?response-content-disposition=attachment%3B%20filename%3D%22featurebook_dirtraversal.png%22%3B%20filename%2A%3DUTF-8%27%27featurebook_dirtraversal.png\u0026amp;response-content-type=image%2Fpng\u0026amp;X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026amp;X-Amz-Credential=ASIAQGK6FURQ37US5OJ5%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026amp;X-Amz-Date=20201229T052715Z\u0026amp;X-Amz-Expires=3600\u0026amp;X-Amz-SignedHeaders=host\u0026amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICX%2BZzEwV7S7tK2Teu4enaTjTMNodN0T8CBwGyp3%2FdhpAiBcDP7u5XE0svrQAEReRRQSWfUQfGu9%2F0dDFi9HZXbFlSq0AwhUEAEaDDAxMzYxOTI3NDg0OSIMqovxw%2Fi0N89X43L%2FKpEDQix1tw9gEfEoYbXT5osPFpMOwfBuizjPU7n9OmST3GiDPuXEgYLvbvfAQGYte9YY2QoNfSH%2Bs3y1JVdVw8yUicjfLoFaEW6wkvABFFfNqnjSBFzSElON%2F%2B3j8UNBRmn2xcLmCFWjMnOAbTftnafIeYcBCAYh2gO4XfF%2FteefEF5baEqal82tljdlrWvxdb4xY%2BeiVvoO6eYgRa7kp50RAoYeprdo02AYM%2F61DJSrZXwMLYr6Xgv6MB1iMnaxJ5rMcXXMrHucVPXBHEcRWopMmQkkB%2FPc9SAPzXjSXPb7jJbEGBrLze60DYXEBrpIFUG1Kick24m%2B5k5jryTy4Jw50w8CXizU5ICguGu3KHM1om3lDn5KQPJLn1HdcT%2BsfoJiJu6SGt9hXKzCtCfUH3%2FFvhBtwm8JD87PMGYoEwVm%2FlNfMX0wjZsROXJIlnxZXImztW5C0Q8%2B8vUj4F7brk0S72obIPPXA9sraxsX4VqG%2BXQBK%2B1E%2BcproSDOuO49QLzWGa%2ByNqmZvUzlIRh6xUU3P5owvrOq%2FwU67AGtB67YYS3OrDI7mh5rocz4yCfx2WY%2BOcICeNC4fwRACHwc09Uiz%2FFPJoVVVUxZVu%2BGwd0PK0Cv2KxEe%2F6DbJ%2F4dqWms9lNmfzBIAqvj8iCblJU7lJE5gNjjGio7mXbIVYDlATJCq41LKJBckyAK5GaLf5E3hKwYqawTi1drEQoAWGm0MLdRWPWFAAmAH9lq7XnOuVzoaZV9I6BQOa6%2Bsw888c6CCB%2BW6%2Fs%2FWznBvXU9NUgtAV0VB3hWt7rH3AQXIkYZTG86Yk6TyvtNdyHfs%2FoRwKKnb1x1yTXlrvbtiAXPCAeCL0oqSsvNwFJhw%3D%3D\u0026amp;X-Amz-Signature=d6780786887c999a8db2ced101f12d965ab6c03d1002ca185c55797e2cac4d7a\" data-attachment-type=\"image/png\"\u003e\u003cimg src=\"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/245/294/d95745beccb1f3543cd56fe1e85b1c1c709bc26b/featurebook_dirtraversal.png?response-content-disposition=attachment%3B%20filename%3D%22featurebook_dirtraversal.png%22%3B%20filename%2A%3DUTF-8%27%27featurebook_dirtraversal.png\u0026amp;response-content-type=image%2Fpng\u0026amp;X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026amp;X-Amz-Credential=ASIAQGK6FURQ37US5OJ5%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026amp;X-Amz-Date=20201229T052715Z\u0026amp;X-Amz-Expires=3600\u0026amp;X-Amz-SignedHeaders=host\u0026amp;X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICX%2BZzEwV7S7tK2Teu4enaTjTMNodN0T8CBwGyp3%2FdhpAiBcDP7u5XE0svrQAEReRRQSWfUQfGu9%2F0dDFi9HZXbFlSq0AwhUEAEaDDAxMzYxOTI3NDg0OSIMqovxw%2Fi0N89X43L%2FKpEDQix1tw9gEfEoYbXT5osPFpMOwfBuizjPU7n9OmST3GiDPuXEgYLvbvfAQGYte9YY2QoNfSH%2Bs3y1JVdVw8yUicjfLoFaEW6wkvABFFfNqnjSBFzSElON%2F%2B3j8UNBRmn2xcLmCFWjMnOAbTftnafIeYcBCAYh2gO4XfF%2FteefEF5baEqal82tljdlrWvxdb4xY%2BeiVvoO6eYgRa7kp50RAoYeprdo02AYM%2F61DJSrZXwMLYr6Xgv6MB1iMnaxJ5rMcXXMrHucVPXBHEcRWopMmQkkB%2FPc9SAPzXjSXPb7jJbEGBrLze60DYXEBrpIFUG1Kick24m%2B5k5jryTy4Jw50w8CXizU5ICguGu3KHM1om3lDn5KQPJLn1HdcT%2BsfoJiJu6SGt9hXKzCtCfUH3%2FFvhBtwm8JD87PMGYoEwVm%2FlNfMX0wjZsROXJIlnxZXImztW5C0Q8%2B8vUj4F7brk0S72obIPPXA9sraxsX4VqG%2BXQBK%2B1E%2BcproSDOuO49QLzWGa%2ByNqmZvUzlIRh6xUU3P5owvrOq%2FwU67AGtB67YYS3OrDI7mh5rocz4yCfx2WY%2BOcICeNC4fwRACHwc09Uiz%2FFPJoVVVUxZVu%2BGwd0PK0Cv2KxEe%2F6DbJ%2F4dqWms9lNmfzBIAqvj8iCblJU7lJE5gNjjGio7mXbIVYDlATJCq41LKJBckyAK5GaLf5E3hKwYqawTi1drEQoAWGm0MLdRWPWFAAmAH9lq7XnOuVzoaZV9I6BQOa6%2Bsw888c6CCB%2BW6%2Fs%2FWznBvXU9NUgtAV0VB3hWt7rH3AQXIkYZTG86Yk6TyvtNdyHfs%2FoRwKKnb1x1yTXlrvbtiAXPCAeCL0oqSsvNwFJhw%3D%3D\u0026amp;X-Amz-Signature=d6780786887c999a8db2ced101f12d965ab6c03d1002ca185c55797e2cac4d7a\" class=\"markdown-inline-image\" style=\"display: inline-block\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eThanks,\u003c/p\u003e\n\n\u003cp\u003eYasin\u003c/p\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eAn adversary can leverage this vulnerability to request arbitrary files from the target host, which may include application source code or system configuration data.\u003c/p\u003e\n","weakness":{"id":19,"name":"Path Traversal"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":245294,"file_name":"featurebook_dirtraversal.png","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/245/294/d95745beccb1f3543cd56fe1e85b1c1c709bc26b/featurebook_dirtraversal.png?response-content-disposition=attachment%3B%20filename%3D%22featurebook_dirtraversal.png%22%3B%20filename%2A%3DUTF-8%27%27featurebook_dirtraversal.png\u0026response-content-type=image%2Fpng\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ37US5OJ5%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T052715Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCICX%2BZzEwV7S7tK2Teu4enaTjTMNodN0T8CBwGyp3%2FdhpAiBcDP7u5XE0svrQAEReRRQSWfUQfGu9%2F0dDFi9HZXbFlSq0AwhUEAEaDDAxMzYxOTI3NDg0OSIMqovxw%2Fi0N89X43L%2FKpEDQix1tw9gEfEoYbXT5osPFpMOwfBuizjPU7n9OmST3GiDPuXEgYLvbvfAQGYte9YY2QoNfSH%2Bs3y1JVdVw8yUicjfLoFaEW6wkvABFFfNqnjSBFzSElON%2F%2B3j8UNBRmn2xcLmCFWjMnOAbTftnafIeYcBCAYh2gO4XfF%2FteefEF5baEqal82tljdlrWvxdb4xY%2BeiVvoO6eYgRa7kp50RAoYeprdo02AYM%2F61DJSrZXwMLYr6Xgv6MB1iMnaxJ5rMcXXMrHucVPXBHEcRWopMmQkkB%2FPc9SAPzXjSXPb7jJbEGBrLze60DYXEBrpIFUG1Kick24m%2B5k5jryTy4Jw50w8CXizU5ICguGu3KHM1om3lDn5KQPJLn1HdcT%2BsfoJiJu6SGt9hXKzCtCfUH3%2FFvhBtwm8JD87PMGYoEwVm%2FlNfMX0wjZsROXJIlnxZXImztW5C0Q8%2B8vUj4F7brk0S72obIPPXA9sraxsX4VqG%2BXQBK%2B1E%2BcproSDOuO49QLzWGa%2ByNqmZvUzlIRh6xUU3P5owvrOq%2FwU67AGtB67YYS3OrDI7mh5rocz4yCfx2WY%2BOcICeNC4fwRACHwc09Uiz%2FFPJoVVVUxZVu%2BGwd0PK0Cv2KxEe%2F6DbJ%2F4dqWms9lNmfzBIAqvj8iCblJU7lJE5gNjjGio7mXbIVYDlATJCq41LKJBckyAK5GaLf5E3hKwYqawTi1drEQoAWGm0MLdRWPWFAAmAH9lq7XnOuVzoaZV9I6BQOa6%2Bsw888c6CCB%2BW6%2Fs%2FWznBvXU9NUgtAV0VB3hWt7rH3AQXIkYZTG86Yk6TyvtNdyHfs%2FoRwKKnb1x1yTXlrvbtiAXPCAeCL0oqSsvNwFJhw%3D%3D\u0026X-Amz-Signature=d6780786887c999a8db2ced101f12d965ab6c03d1002ca185c55797e2cac4d7a","file_size":90195,"type":"image/png"}],"allow_singular_disclosure_at":"2018-02-08T08:33:42.094Z","allow_singular_disclosure_after":-91140813.1421471,"singular_disclosure_allowed":true,"vote_count":4,"voters":["bl4de","eveeez","cr4xerbik4sh","japz"],"severity":{"rating":"medium","author_type":"User"},"structured_scope":{"databaseId":4651,"asset_type":"SOURCE_CODE","asset_identifier":"featurebook","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":2209784,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi again @vdeturckheim,\n\nJust wanted to provide an update regarding the above PoC – I'd recommend creating a brand new directory (and `cd`ing into this) in order to avoid any file conflicts that may prevent `featurebook` from loading.","markdown_message":"\u003cp\u003eHi again \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e,\u003c/p\u003e\n\n\u003cp\u003eJust wanted to provide an update regarding the above PoC – I\u0026#39;d recommend creating a brand new directory (and \u003ccode\u003ecd\u003c/code\u003eing into this) in order to avoid any file conflicts that may prevent \u003ccode\u003efeaturebook\u003c/code\u003e from loading.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-08T17:30:29.087Z","updated_at":"2017-12-08T17:30:29.087Z","actor":{"username":"ysx","cleared":false,"url":"/ysx","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2211434,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"I was able to reproduce the issue described and I consider this as a security issue.\n\n@ysx I will triage this report as vulnerability. Have you already tried to contact the module maintainer?","markdown_message":"\u003cp\u003eI was able to reproduce the issue described and I consider this as a security issue.\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"/ysx\"\u003e@ysx\u003c/a\u003e I will triage this report as vulnerability. Have you already tried to contact the module maintainer?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-09T17:42:43.608Z","updated_at":"2017-12-09T17:42:43.608Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2211435,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks here also @vdeturckheim. As with earlier reports, I have not presently attempted to contact the maintainer and would appreciate assistance from Node.js Security in doing so.\n\nKind regards\n\nYasin","markdown_message":"\u003cp\u003eThanks here also \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e. As with earlier reports, I have not presently attempted to contact the maintainer and would appreciate assistance from Node.js Security in doing so.\u003c/p\u003e\n\n\u003cp\u003eKind regards\u003c/p\u003e\n\n\u003cp\u003eYasin\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-09T17:43:37.538Z","updated_at":"2017-12-09T17:43:37.538Z","actor":{"username":"ysx","cleared":false,"url":"/ysx","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2211476,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I have sent an email to the [package maintainer](https://github.com/danielpacak) to offer him to join this discussion. Let's wait for his answer now.","markdown_message":"\u003cp\u003eI have sent an email to the \u003ca href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fdanielpacak\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003epackage maintainer\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e to offer him to join this discussion. Let\u0026#39;s wait for his answer now.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-09T18:05:36.766Z","updated_at":"2017-12-09T18:05:36.766Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2245629,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I still have had no response fro maintainer. I will open and issue on the GH repo.","markdown_message":"\u003cp\u003eI still have had no response fro maintainer. I will open and issue on the GH repo.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T10:38:01.017Z","updated_at":"2017-12-25T10:38:01.017Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2245900,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I have just invited Daniel Pacak to join us here (see https://github.com/SOFTWARE-CLINIC/featurebook/issues/64#issuecomment-353876274 )","markdown_message":"\u003cp\u003eI have just invited Daniel Pacak to join us here (see \u003ca title=\"https://github.com/SOFTWARE-CLINIC/featurebook/issues/64#issuecomment-353876274\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FSOFTWARE-CLINIC%2Ffeaturebook%2Fissues%2F64%23issuecomment-353876274\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/SOFTWARE-CLINIC/featurebook/issues/64#issuecomment-353876274\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e )\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T15:36:25.504Z","updated_at":"2017-12-25T15:36:25.504Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2245907,"is_internal":false,"editable":false,"type":"Activities::ExternalUserJoined","message":"","markdown_message":"","automated_response":false,"created_at":"2017-12-25T15:40:56.534Z","updated_at":"2017-12-25T15:40:56.534Z","actor":{"username":"danielpacak","cleared":false,"url":"/danielpacak","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2245912,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hey @danielpacak let me know if you need help to reproduce the issue. ","markdown_message":"\u003cp\u003eHey \u003ca href=\"/danielpacak\"\u003e@danielpacak\u003c/a\u003e let me know if you need help to reproduce the issue. \u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T15:47:18.909Z","updated_at":"2017-12-25T15:47:18.909Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2245918,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi @ysx @vdeturckheim . First off - good catch. Thank you for letting me know that there's such vulnerability in the featurebook package. To be precise the vulnerable code resides in the https://github.com/SOFTWARE-CLINIC/featurebook-serve module and I can easily reproduce it. My plan though is to actually deprecate the `featurebook-serve` module and remove `serve` command from the featurebook's command-line interface and focus on developing https://github.com/SOFTWARE-CLINIC/featurebook-desktop, i.e. cross-platform desktop app based on https://electronjs.org/ . That being said I'm wondering how to proceed. featurebook serve is not meant to be run as a server app. It's more a simple tool / way to share spec with coworkers without installing web servers such as nginx or httpd. What's your advice here?","markdown_message":"\u003cp\u003eHi \u003ca href=\"/ysx\"\u003e@ysx\u003c/a\u003e \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e . First off - good catch. Thank you for letting me know that there\u0026#39;s such vulnerability in the featurebook package. To be precise the vulnerable code resides in the \u003ca title=\"https://github.com/SOFTWARE-CLINIC/featurebook-serve\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FSOFTWARE-CLINIC%2Ffeaturebook-serve\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/SOFTWARE-CLINIC/featurebook-serve\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e module and I can easily reproduce it. My plan though is to actually deprecate the \u003ccode\u003efeaturebook-serve\u003c/code\u003e module and remove \u003ccode\u003eserve\u003c/code\u003e command from the featurebook\u0026#39;s command-line interface and focus on developing \u003ca title=\"https://github.com/SOFTWARE-CLINIC/featurebook-desktop\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2FSOFTWARE-CLINIC%2Ffeaturebook-desktop\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/SOFTWARE-CLINIC/featurebook-desktop\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e, i.e. cross-platform desktop app based on \u003ca title=\"https://electronjs.org/\" href=\"/redirect?url=https%3A%2F%2Felectronjs.org%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://electronjs.org/\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e . That being said I\u0026#39;m wondering how to proceed. featurebook serve is not meant to be run as a server app. It\u0026#39;s more a simple tool / way to share spec with coworkers without installing web servers such as nginx or httpd. What\u0026#39;s your advice here?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T15:57:41.617Z","updated_at":"2017-12-25T15:57:41.617Z","actor":{"username":"danielpacak","cleared":false,"url":"/danielpacak","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2245934,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hey @danielpacak , thanks for this review. \n\nGiven my experience, even if the module is not meant to be used in production, I can't guarantee nobody does it.\n\nSince you plan to deprecate, I think we have two solutions:\n* either you still publish a patch to prevent abuse of this\n* either you deprecate the module and we publish this vulnerability without any fix for it\n\nAs package maintainer, it's basically your call. If you decide to fix the vulnerability, I would advice to keep the time between committing the fix and publishing an update of the package as short as possible.\n\n(on a side note, we plan to publish this whole discussion before releasing this vulnerability, is it an issue for any of you @danielpacak and @ysx ?)","markdown_message":"\u003cp\u003eHey \u003ca href=\"/danielpacak\"\u003e@danielpacak\u003c/a\u003e , thanks for this review. \u003c/p\u003e\n\n\u003cp\u003eGiven my experience, even if the module is not meant to be used in production, I can\u0026#39;t guarantee nobody does it.\u003c/p\u003e\n\n\u003cp\u003eSince you plan to deprecate, I think we have two solutions:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eeither you still publish a patch to prevent abuse of this\u003c/li\u003e\n\u003cli\u003eeither you deprecate the module and we publish this vulnerability without any fix for it\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eAs package maintainer, it\u0026#39;s basically your call. If you decide to fix the vulnerability, I would advice to keep the time between committing the fix and publishing an update of the package as short as possible.\u003c/p\u003e\n\n\u003cp\u003e(on a side note, we plan to publish this whole discussion before releasing this vulnerability, is it an issue for any of you \u003ca href=\"/danielpacak\"\u003e@danielpacak\u003c/a\u003e and \u003ca href=\"/ysx\"\u003e@ysx\u003c/a\u003e ?)\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T16:05:48.178Z","updated_at":"2017-12-25T16:05:48.178Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2245940,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks for your input @vdeturckheim . Given that this project is not sponsored by anyone I'd rather not fix the vulnerability soon. Instead I'd go for the 2nd option, i.e. deprecate the `featurebook-serve` module and let people know that the module might be abused. (I'm okey with publishing this discussion.)","markdown_message":"\u003cp\u003eThanks for your input \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e . Given that this project is not sponsored by anyone I\u0026#39;d rather not fix the vulnerability soon. Instead I\u0026#39;d go for the 2nd option, i.e. deprecate the \u003ccode\u003efeaturebook-serve\u003c/code\u003e module and let people know that the module might be abused. (I\u0026#39;m okey with publishing this discussion.)\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T16:12:46.003Z","updated_at":"2017-12-25T16:21:42.982Z","actor":{"username":"danielpacak","cleared":false,"url":"/danielpacak","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2245991,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi everyone,\n\nFirst I would like to express my thanks @vdeturckheim for your continued support and for opening a dialogue to help further investigate this issue.\n\nThank you @danielpacak for your analysis and review, this sounds good. I'm also okay with publishing this thread whenever ready :)\n\nBest wishes for the Christmas holiday and New Year,\n\nYasin","markdown_message":"\u003cp\u003eHi everyone,\u003c/p\u003e\n\n\u003cp\u003eFirst I would like to express my thanks \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e for your continued support and for opening a dialogue to help further investigate this issue.\u003c/p\u003e\n\n\u003cp\u003eThank you \u003ca href=\"/danielpacak\"\u003e@danielpacak\u003c/a\u003e for your analysis and review, this sounds good. I\u0026#39;m also okay with publishing this thread whenever ready :)\u003c/p\u003e\n\n\u003cp\u003eBest wishes for the Christmas holiday and New Year,\u003c/p\u003e\n\n\u003cp\u003eYasin\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-25T17:16:29.862Z","updated_at":"2017-12-25T17:16:29.862Z","actor":{"username":"ysx","cleared":false,"url":"/ysx","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2253033,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Allright :) If there is no opposition, I'll disclose this vulnerability next week.","markdown_message":"\u003cp\u003eAllright :) If there is no opposition, I\u0026#39;ll disclose this vulnerability next week.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-12-30T16:17:42.720Z","updated_at":"2017-12-30T16:17:42.720Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2271802,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"","markdown_message":"","automated_response":false,"created_at":"2018-01-09T08:32:43.591Z","updated_at":"2018-01-09T08:32:43.591Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"reporter":{"username":"ysx","url":"/ysx"},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2271804,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"If nobody objects, we should disclose this soon.","markdown_message":"\u003cp\u003eIf nobody objects, we should disclose this soon.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-01-09T08:33:42.008Z","updated_at":"2018-01-09T08:33:42.008Z","first_to_agree":true,"actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2271835,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Sounds good, as with #296254 please let me know if I should select the option on my end to disclose, or to await the go-ahead. Thanks everyone!","markdown_message":"\u003cp\u003eSounds good, as with \u003ca href=\"/reports/296254\"\u003e#296254\u003c/a\u003e please let me know if I should select the option on my end to disclose, or to await the go-ahead. Thanks everyone!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-01-09T08:49:43.398Z","updated_at":"2018-01-09T08:49:43.398Z","actor":{"username":"ysx","cleared":false,"url":"/ysx","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2271877,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hey @ysx I would like to disclose it myself in order to sync up the PR to https://github.com/nodejs/security-wg. \n\nI'll try to do it tomorrow evening at the latest.","markdown_message":"\u003cp\u003eHey \u003ca href=\"/ysx\"\u003e@ysx\u003c/a\u003e I would like to disclose it myself in order to sync up the PR to \u003ca title=\"https://github.com/nodejs/security-wg\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fnodejs%2Fsecurity-wg\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/nodejs/security-wg\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e. \u003c/p\u003e\n\n\u003cp\u003eI\u0026#39;ll try to do it tomorrow evening at the latest.\u003c/p\u003e\n","automated_response":false,"created_at":"2018-01-09T09:17:10.894Z","updated_at":"2018-01-09T09:17:10.894Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2271906,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"No problem @vdeturckheim!","markdown_message":"\u003cp\u003eNo problem \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-01-09T09:33:29.918Z","updated_at":"2018-01-09T09:33:29.918Z","actor":{"username":"ysx","cleared":false,"url":"/ysx","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2275841,"is_internal":false,"editable":false,"type":"Activities::ManuallyDisclosed","message":"","markdown_message":"","automated_response":false,"created_at":"2018-01-10T20:43:30.032Z","updated_at":"2018-01-10T20:43:30.032Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2275854,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@ysx I just published the vuln and opened the [PR to make it public](https://github.com/nodejs/security-wg/pull/91) Thanks a lot for the awesome job!","markdown_message":"\u003cp\u003e\u003ca href=\"/ysx\"\u003e@ysx\u003c/a\u003e I just published the vuln and opened the \u003ca href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fnodejs%2Fsecurity-wg%2Fpull%2F91\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ePR to make it public\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e Thanks a lot for the awesome job!\u003c/p\u003e\n","automated_response":false,"created_at":"2018-01-10T20:47:45.455Z","updated_at":"2018-01-10T20:48:10.747Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2276008,"is_internal":false,"editable":false,"type":"Activities::ChangedScope","message":"","markdown_message":"","automated_response":false,"created_at":"2018-01-10T21:58:03.390Z","updated_at":"2018-01-10T21:58:03.390Z","actor":{"username":"vdeturckheim","cleared":false,"url":"/vdeturckheim","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/161/010/6f383ac0f9296c13b5ac0d38741f0685dbace58c_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"old_scope":"None","new_scope":"featurebook","genius_execution_id":null,"team_handle":"nodejs-ecosystem","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"id":6267,"category":"researcher","content":"A crafted request can be used to traverse the directory structure of a host using the `featurebook` package, and request arbitrary files outside of the specified web root. Thanks @vdeturckheim and @danielpacak for your investigation of this issue.","can_view?":true,"can_edit?":false,"content_html":"\u003cp\u003eA crafted request can be used to traverse the directory structure of a host using the \u003ccode\u003efeaturebook\u003c/code\u003e package, and request arbitrary files outside of the specified web root. Thanks \u003ca href=\"/vdeturckheim\"\u003e@vdeturckheim\u003c/a\u003e and \u003ca href=\"/danielpacak\"\u003e@danielpacak\u003c/a\u003e for your investigation of this issue.\u003c/p\u003e\n"}]}